{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\n\n\nimport * as React from 'react';\nimport { getOverrides } from '../helpers/overrides.js';\nimport DeleteAlt from '../icon/delete-alt.js';\nimport TriangleDownIcon from '../icon/triangle-down.js';\nimport SearchIconComponent from '../icon/search.js';\nimport { LocaleContext } from '../locale/index.js';\nimport { Popover, PLACEMENT } from '../popover/index.js';\nimport { Spinner } from '../spinner/index.js';\nimport AutosizeInput from './autosize-input.js';\nimport { TYPE, STATE_CHANGE_TYPE } from './constants.js';\nimport defaultProps from './default-props.js';\nimport SelectDropdown from './dropdown.js';\nimport { StyledRoot, StyledControlContainer, StyledPlaceholder, StyledValueContainer, StyledInputContainer, StyledIconsContainer, StyledSelectArrow, StyledClearIcon, getLoadingIconStyles, StyledSearchIconContainer } from './styled-components.js';\nimport { expandValue, normalizeOptions, shouldShowValue, shouldShowPlaceholder } from './utils/index.js';\n\nfunction Noop() {\n  return null;\n}\n\nvar isClick = function isClick(event) {\n  return event.type === 'click';\n};\n\nvar isLeftClick = function isLeftClick(event) {\n  return event.button !== null && event.button !== undefined && event.button === 0;\n};\n\nvar containsNode = function containsNode(parent, child) {\n  if (typeof document !== 'undefined') {\n    // eslint-disable-next-line flowtype/no-weak-types\n    return child && parent && parent.contains(child);\n  }\n};\n\nexport function isInteractive(rootTarget, rootElement) {\n  if (rootTarget instanceof Element) {\n    var target = rootTarget;\n\n    while (target && target !== rootElement) {\n      var role = target.getAttribute('role');\n\n      if (role === 'button' || role === 'link') {\n        return true;\n      }\n\n      if (target.tagName) target = target.parentElement;\n    }\n  }\n\n  return false;\n} // eslint-disable-next-line flowtype/no-weak-types\n\nvar Select = /*#__PURE__*/function (_React$Component) {\n  _inherits(Select, _React$Component); // anchor is a ref that refers to the outermost element rendered when the dropdown menu is not\n  // open. This is required so that we can check if clicks are on/off the anchor element.\n  // dropdown is a ref that refers to the popover element. This is required so that we can check if\n  // clicks are on/off the dropdown element.\n  // dragging is a flag to track whether a mobile device is currently scrolling versus clicking.\n  // focusAfterClear is a flag to indicate that the dropdowm menu should open after a selected\n  // option has been cleared.\n  // openAfterFocus is a flag to indicate that the dropdown menu should open when the component is\n  // focused. Developers have the option to disable initial clicks opening the dropdown menu. If not\n  // disabled, clicks will set this flag to true. Upon focusing, look to this to see if the menu should\n  // be opened, or only focus.\n  // When an item is selected, it also triggers handleClickOutside and since the selected item is\n  // already out of the menu (DOM), it will not recognize it as a subnode and triggers handleBlur\n  // that sets isOpen to false. That's a faulty logic causing visible problems when\n  // closeOnSelect is false. This flag helps to detect that selection was just made.\n  // the select components can accept an array of options or an object where properties are optgroups\n  // and values are arrays of options. this class property is constructed and updated in a normalized\n  // shape where optgroup titles are stored on the option in the __optgroup field.\n\n\n  function Select(props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"anchor\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"dropdown\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"input\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"dragging\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focusAfterClear\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"openAfterFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"justSelected\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"options\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      inputValue: '',\n      isFocused: false,\n      isOpen: _this.props.startOpen,\n      isPseudoFocused: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isMounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchOutside\", function (event) {\n      if (containsNode(_this.dropdown.current, event.target)) return;\n\n      if (!containsNode(_this.anchor.current, event.target)) {\n        _this.closeMenu();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function () {\n      return _this.dragging = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function () {\n      return _this.dragging = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (event) {\n      if (_this.dragging) return;\n\n      _this.handleClick(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchEndClearValue\", function (event) {\n      if (_this.dragging) return;\n\n      _this.clearValue(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (event) {\n      if (_this.props.disabled || !isClick(event) && !isLeftClick(event)) {\n        return;\n      } // Case comes up when text has been typed into the input field. If no text provided,\n      // the 'input' element will have essentially 0 width therefore will not be clickable.\n      // When click outside does not reset input, text provided will stay rendered after clicks away\n      // from the select component. Upon subsequent clicks on the provided text, open the dropdown\n      // menu, in addition to text edit operations.\n\n\n      if (event.target === _this.input) {\n        // CHASE: not sure why this condition is here. I cannot replicate a situation where clicks\n        // on provided text break into here.\n        if (!_this.state.isFocused) {\n          _this.openAfterFocus = _this.props.openOnClick;\n\n          _this.focus();\n\n          return;\n        }\n\n        if (!_this.state.isOpen) {\n          _this.setState({\n            isOpen: true,\n            isPseudoFocused: false\n          });\n\n          return;\n        }\n      } // Ensures that interactive elements within the Select component do not trigger the outer click\n      // handler. For example, after an option is selected clicks on the 'clear' icon call here. We\n      // should ignore those events. This comes after case where click is on input element, so that\n      // those are handled on their own.\n\n\n      if (_this.input && isInteractive(event.target, _this.input)) {\n        return;\n      } // For the simple case where clicking on the Select does not allow for providing\n      // text input to filter the dropdown options.\n\n\n      if (!_this.props.searchable) {\n        _this.focus();\n\n        _this.setState(function (prev) {\n          return {\n            isOpen: !prev.isOpen\n          };\n        });\n\n        return;\n      } // Cases below only apply to searchable Select component.\n\n\n      if (_this.state.isFocused) {\n        // iOS ignores programmatic calls to input.focus() that were not triggered by a click event.\n        // This component can get into a state where isFocused is true, but the DOM node is not\n        // focused. Call focus here again to ensure.\n        _this.focus(); // Case comes up when click outside does not reset input - once text has been provided to\n        // the input, and the user closes the dropdown menu the provided text is maintained. After\n        // this, if the user focuses back into the select component then clicks on the component,\n        // the provided text highlights rather than position's the cursor at the end of the input.\n\n\n        if (_this.input) _this.input.value = '';\n\n        _this.setState(function (prev) {\n          return {\n            isOpen: !_this.focusAfterClear && !prev.isOpen,\n            isPseudoFocused: false\n          };\n        });\n\n        _this.focusAfterClear = false;\n      } else {\n        _this.openAfterFocus = _this.props.openOnClick;\n\n        _this.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleInputFocus\", function (event) {\n      if (_this.props.disabled) return;\n      if (_this.props.onFocus) _this.props.onFocus(event);\n      var toOpen = _this.state.isOpen || _this.openAfterFocus; // if focus happens after clear values, don't open dropdown yet.\n\n      toOpen = !_this.focusAfterClear && toOpen;\n\n      _this.setState({\n        isFocused: true,\n        isOpen: !!toOpen\n      });\n\n      _this.focusAfterClear = false;\n      _this.openAfterFocus = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleBlur\", function (event) {\n      if (containsNode(_this.anchor.current, event.target)) {\n        return;\n      }\n\n      if (_this.props.onBlur) {\n        _this.props.onBlur(event);\n      }\n\n      var onBlurredState = {\n        isFocused: false,\n        isOpen: false,\n        isPseudoFocused: false\n      };\n\n      if (_this.props.onBlurResetsInput) {\n        onBlurredState.inputValue = '';\n      }\n\n      if (_this.isMounted) {\n        _this.setState(onBlurredState);\n      }\n\n      if (typeof document !== 'undefined') {\n        document.removeEventListener('click', _this.handleClickOutside);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickOutside\", function (event) {\n      if (_this.justSelected) {\n        _this.justSelected = false;\n        return;\n      }\n\n      if (containsNode(_this.dropdown.current, event.target)) return;\n      var isFocused = _this.state.isFocused || _this.state.isPseudoFocused;\n\n      if (isFocused && !containsNode(_this.anchor.current, event.target)) {\n        _this.handleBlur(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleInputChange\", function (event) {\n      var newInputValue = event.target.value;\n\n      _this.setState({\n        inputValue: newInputValue,\n        isOpen: true,\n        isPseudoFocused: false\n      });\n\n      if (_this.props.onInputChange) {\n        _this.props.onInputChange(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      if (_this.props.disabled) return;\n\n      switch (event.keyCode) {\n        case 8:\n          // backspace\n          if (!_this.state.inputValue && _this.props.backspaceRemoves) {\n            event.preventDefault();\n\n            _this.popValue();\n          }\n\n          break;\n\n        case 13:\n          // enter\n          event.preventDefault();\n          event.stopPropagation();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 9:\n          // tab\n          _this.setState(function (prevState) {\n            return {\n              isPseudoFocused: false,\n              isFocused: false,\n              isOpen: false,\n              inputValue: _this.props.onCloseResetsInput ? '' : prevState.inputValue\n            };\n          });\n\n          break;\n\n        case 27:\n          // escape\n          if (!_this.state.isOpen && _this.props.clearable && _this.props.escapeClearsValue) {\n            _this.clearValue(event);\n\n            _this.setState({\n              isFocused: false,\n              isPseudoFocused: false\n            });\n          }\n\n          break;\n\n        case 32:\n          // space\n          if (_this.props.searchable) {\n            break;\n          }\n\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 38:\n          // up\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 40:\n          // down\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 33:\n          // page up\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 34:\n          // page down\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 35:\n          // end key\n          if (event.shiftKey) {\n            break;\n          }\n\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 36:\n          // home key\n          if (event.shiftKey) {\n            break;\n          }\n\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 46:\n          // delete\n          if (!_this.state.inputValue && _this.props.deleteRemoves) {\n            event.preventDefault();\n\n            _this.popValue();\n          }\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getOptionLabel\", function (locale, _ref) {\n      var option = _ref.option;\n      return option.isCreatable ? \"\".concat(locale.select.create, \" \\u201C\").concat(option[_this.props.labelKey], \"\\u201D\") : option[_this.props.labelKey];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getValueLabel\", function (_ref2) {\n      var option = _ref2.option;\n      return option[_this.props.labelKey];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectValue\", function (_ref3) {\n      var item = _ref3.item;\n\n      if (item.disabled) {\n        return;\n      }\n\n      _this.justSelected = true; // NOTE: we add/set the value in a callback to make sure the\n      // input value is empty to avoid styling issues in Chrome\n\n      var updatedValue = _this.props.onSelectResetsInput ? '' : _this.state.inputValue;\n\n      if (_this.props.multi) {\n        _this.setState({\n          inputValue: updatedValue,\n          isOpen: !_this.props.closeOnSelect\n        }, function () {\n          var valueArray = _this.props.value;\n\n          if (valueArray.some(function (i) {\n            return i[_this.props.valueKey] === item[_this.props.valueKey];\n          })) {\n            _this.removeValue(item);\n          } else {\n            _this.addValue(item);\n          }\n        });\n      } else {\n        _this.focus();\n\n        _this.setState({\n          inputValue: updatedValue,\n          isOpen: !_this.props.closeOnSelect,\n          isFocused: true,\n          isPseudoFocused: false\n        }, function () {\n          _this.setValue([item], item, STATE_CHANGE_TYPE.select);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addValue\", function (item) {\n      var valueArray = _toConsumableArray(_this.props.value);\n\n      _this.setValue(valueArray.concat(item), item, STATE_CHANGE_TYPE.select);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"popValue\", function () {\n      if (_this.props.multi) {\n        var valueArray = _toConsumableArray(_this.props.value);\n\n        var valueLength = valueArray.length;\n        if (!valueLength) return;\n        if (valueArray[valueLength - 1].clearableValue === false) return;\n        var item = valueArray.pop();\n\n        _this.setValue(valueArray, item, STATE_CHANGE_TYPE.remove);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeValue\", function (item) {\n      var valueArray = _toConsumableArray(_this.props.value);\n\n      _this.setValue(valueArray.filter(function (i) {\n        return i[_this.props.valueKey] !== item[_this.props.valueKey];\n      }), item, STATE_CHANGE_TYPE.remove);\n\n      _this.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearValue\", function (event) {\n      if (isClick(event) && !isLeftClick(event)) return;\n\n      if (_this.props.value) {\n        var resetValue = _this.props.value.filter(function (item) {\n          return item.clearableValue === false;\n        });\n\n        _this.setValue(resetValue, null, STATE_CHANGE_TYPE.clear);\n      }\n\n      _this.setState({\n        inputValue: '',\n        isOpen: false\n      });\n\n      _this.focus();\n\n      _this.focusAfterClear = true;\n    });\n\n    _this.options = normalizeOptions(props.options);\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoFocus) {\n        this.focus();\n      }\n\n      this.isMounted = true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (typeof document !== 'undefined') {\n        if (prevState.isOpen !== this.state.isOpen) {\n          if (this.state.isOpen) {\n            this.props.onOpen && this.props.onOpen();\n            document.addEventListener('touchstart', this.handleTouchOutside);\n          } else {\n            this.props.onClose && this.props.onClose();\n            document.removeEventListener('touchstart', this.handleTouchOutside);\n          }\n        }\n\n        if (!prevState.isFocused && this.state.isFocused) {\n          document.addEventListener('click', this.handleClickOutside);\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (typeof document !== 'undefined') {\n        document.removeEventListener('touchstart', this.handleTouchOutside);\n      }\n\n      this.isMounted = false;\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!this.input) return;\n      this.input.focus();\n    } // Handle touch outside on mobile to dismiss menu, ensures that the\n    // touch target is not within the anchor DOM node.\n\n  }, {\n    key: \"closeMenu\",\n    value: function closeMenu() {\n      if (this.props.onCloseResetsInput) {\n        this.setState({\n          inputValue: '',\n          isOpen: false,\n          isPseudoFocused: this.state.isFocused && !this.props.multi\n        });\n      } else {\n        this.setState({\n          isOpen: false,\n          isPseudoFocused: this.state.isFocused && !this.props.multi\n        });\n      }\n    }\n  }, {\n    key: \"getValueArray\",\n\n    /**\n     * Extends the value into an array from the given options\n     */\n    value: function getValueArray(value) {\n      var _this2 = this;\n\n      if (!Array.isArray(value)) {\n        if (value === null || value === undefined) return [];\n        value = [value];\n      }\n\n      return value.map(function (value) {\n        return expandValue(value, _this2.props);\n      });\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, option, type) {\n      if (this.props.onChange) {\n        this.props.onChange({\n          value: value,\n          option: option,\n          type: type\n        });\n      }\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      if (!this.props.isLoading) return;\n      var sharedProps = this.getSharedProps();\n      var _this$props$overrides = this.props.overrides,\n          overrides = _this$props$overrides === void 0 ? {} : _this$props$overrides;\n\n      var _getOverrides = getOverrides(overrides.LoadingIndicator, Spinner),\n          _getOverrides2 = _slicedToArray(_getOverrides, 2),\n          LoadingIndicator = _getOverrides2[0],\n          loadingIndicatorProps = _getOverrides2[1];\n\n      return React.createElement(LoadingIndicator, _extends({\n        size: 16,\n        overrides: {\n          Svg: {\n            style: getLoadingIconStyles\n          }\n        }\n      }, sharedProps, loadingIndicatorProps));\n    }\n  }, {\n    key: \"renderValue\",\n    value: function renderValue(valueArray, isOpen, locale) {\n      var _this3 = this;\n\n      var _this$props$overrides2 = this.props.overrides,\n          overrides = _this$props$overrides2 === void 0 ? {} : _this$props$overrides2;\n      var sharedProps = this.getSharedProps();\n      var renderLabel = this.props.getValueLabel || this.getValueLabel;\n      var Value = this.props.valueComponent || Noop;\n\n      if (!valueArray.length) {\n        return null;\n      }\n\n      if (this.props.multi) {\n        return valueArray.map(function (value, i) {\n          var disabled = sharedProps.$disabled || value.clearableValue === false;\n          return React.createElement(Value, _extends({\n            value: value,\n            key: \"value-\".concat(i, \"-\").concat(value[_this3.props.valueKey]),\n            removeValue: function removeValue() {\n              return _this3.removeValue(value);\n            },\n            disabled: disabled,\n            overrides: {\n              MultiValue: overrides.MultiValue\n            }\n          }, sharedProps, {\n            $disabled: disabled\n          }), renderLabel({\n            option: value,\n            index: i\n          }));\n        });\n      } else if (shouldShowValue(this.state, this.props)) {\n        return React.createElement(Value, _extends({\n          value: valueArray[0][this.props.valueKey],\n          disabled: this.props.disabled,\n          overrides: {\n            SingleValue: overrides.SingleValue\n          }\n        }, sharedProps), renderLabel({\n          option: valueArray[0]\n        }));\n      }\n    }\n  }, {\n    key: \"renderInput\",\n    value: function renderInput() {\n      var _this4 = this;\n\n      var _this$props$overrides3 = this.props.overrides,\n          overrides = _this$props$overrides3 === void 0 ? {} : _this$props$overrides3;\n\n      var _getOverrides3 = getOverrides(overrides.InputContainer, StyledInputContainer),\n          _getOverrides4 = _slicedToArray(_getOverrides3, 2),\n          InputContainer = _getOverrides4[0],\n          inputContainerProps = _getOverrides4[1];\n\n      var sharedProps = this.getSharedProps();\n      var isOpen = this.state.isOpen;\n      var value = this.state.inputValue;\n\n      if (value && !this.props.onSelectResetsInput && !this.state.isFocused) {\n        // It hides input value when it is not focused and was not reset on select\n        value = '';\n      }\n\n      if (!this.props.searchable) {\n        return React.createElement(InputContainer, _extends({\n          \"aria-expanded\": isOpen,\n          \"aria-disabled\": this.props.disabled,\n          \"aria-label\": this.props['aria-label'],\n          \"aria-labelledby\": this.props['aria-labelledby'],\n          \"aria-required\": this.props.required || null,\n          onBlur: this.handleBlur,\n          onFocus: this.handleInputFocus,\n          ref: function ref(_ref4) {\n            return _this4.input = _ref4;\n          },\n          tabIndex: 0\n        }, sharedProps, inputContainerProps));\n      }\n\n      return React.createElement(InputContainer, _extends({}, sharedProps, inputContainerProps), React.createElement(AutosizeInput, _extends({\n        \"aria-autocomplete\": \"list\",\n        \"aria-describedby\": this.props['aria-describedby'],\n        \"aria-errormessage\": this.props['aria-errormessage'],\n        \"aria-disabled\": this.props.disabled || null,\n        \"aria-expanded\": isOpen,\n        \"aria-haspopup\": isOpen,\n        \"aria-label\": this.props['aria-label'],\n        \"aria-labelledby\": this.props['aria-labelledby'],\n        \"aria-required\": this.props.required || null,\n        disabled: this.props.disabled || null,\n        id: this.props.id || null,\n        inputRef: function inputRef(ref) {\n          return _this4.input = ref;\n        },\n        onBlur: this.handleBlur,\n        onChange: this.handleInputChange,\n        onFocus: this.handleInputFocus,\n        overrides: {\n          Input: overrides.Input\n        },\n        required: this.props.required && !this.props.value.length || null,\n        role: \"combobox\",\n        value: value,\n        tabIndex: 0\n      }, sharedProps)));\n    }\n  }, {\n    key: \"renderClear\",\n    value: function renderClear() {\n      var sharedProps = this.getSharedProps();\n      var value = this.props.value;\n      if (!this.props.clearable || !value || !value.length || this.props.disabled || this.props.isLoading) return;\n      var _this$props$overrides4 = this.props.overrides,\n          overrides = _this$props$overrides4 === void 0 ? {} : _this$props$overrides4;\n\n      var _getOverrides5 = getOverrides(overrides.ClearIcon, DeleteAlt),\n          _getOverrides6 = _slicedToArray(_getOverrides5, 2),\n          ClearIcon = _getOverrides6[0],\n          clearIconProps = _getOverrides6[1];\n\n      var ariaLabel = this.props.multi ? 'Clear all' : 'Clear value';\n      return React.createElement(ClearIcon, _extends({\n        size: 16,\n        title: ariaLabel,\n        \"aria-label\": ariaLabel,\n        onClick: this.clearValue,\n        onTouchEnd: this.handleTouchEndClearValue,\n        onTouchMove: this.handleTouchMove,\n        onTouchStart: this.handleTouchStart,\n        role: \"button\",\n        overrides: {\n          Svg: _objectSpread({\n            component: StyledClearIcon\n          }, overrides.ClearIcon && overrides.ClearIcon.props ? {\n            props: overrides.ClearIcon.props\n          } : {}, {}, overrides.ClearIcon && overrides.ClearIcon.style ? {\n            style: overrides.ClearIcon.style\n          } : {})\n        }\n      }, sharedProps, clearIconProps));\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow() {\n      if (this.props.type !== TYPE.select) {\n        return null;\n      }\n\n      var _this$props$overrides5 = this.props.overrides,\n          overrides = _this$props$overrides5 === void 0 ? {} : _this$props$overrides5;\n\n      var _getOverrides7 = getOverrides(overrides.SelectArrow, TriangleDownIcon),\n          _getOverrides8 = _slicedToArray(_getOverrides7, 2),\n          SelectArrow = _getOverrides8[0],\n          selectArrowProps = _getOverrides8[1];\n\n      var sharedProps = this.getSharedProps();\n      return React.createElement(SelectArrow, _extends({\n        size: 16,\n        title: 'open',\n        overrides: {\n          Svg: _objectSpread({\n            component: StyledSelectArrow\n          }, overrides.SelectArrow && overrides.SelectArrow.props ? {\n            props: overrides.SelectArrow.props\n          } : {}, {}, overrides.SelectArrow && overrides.SelectArrow.style ? {\n            style: overrides.SelectArrow.style\n          } : {})\n        }\n      }, sharedProps, selectArrowProps));\n    }\n  }, {\n    key: \"renderSearch\",\n    value: function renderSearch() {\n      if (this.props.type !== TYPE.search) {\n        return null;\n      }\n\n      var _this$props$overrides6 = this.props.overrides,\n          overrides = _this$props$overrides6 === void 0 ? {} : _this$props$overrides6;\n\n      var _getOverrides9 = getOverrides(overrides.SearchIconContainer, StyledSearchIconContainer),\n          _getOverrides10 = _slicedToArray(_getOverrides9, 2),\n          SearchIconContainer = _getOverrides10[0],\n          searchIconContainerProps = _getOverrides10[1];\n\n      var _getOverrides11 = getOverrides(overrides.SearchIcon, SearchIconComponent),\n          _getOverrides12 = _slicedToArray(_getOverrides11, 2),\n          SearchIcon = _getOverrides12[0],\n          searchIconProps = _getOverrides12[1];\n\n      var sharedProps = this.getSharedProps();\n      return (// TODO(v10): remove searchIconProps from SearchIconContainer\n        React.createElement(SearchIconContainer, _extends({}, sharedProps, searchIconProps, searchIconContainerProps), React.createElement(SearchIcon, _extends({\n          size: 16,\n          title: 'search'\n        }, searchIconProps)))\n      );\n    }\n  }, {\n    key: \"filterOptions\",\n    value: function filterOptions(excludeOptions) {\n      var _this5 = this;\n\n      var filterValue = this.state.inputValue; // apply filter function\n\n      if (this.props.filterOptions) {\n        this.options = this.props.filterOptions(this.options, filterValue, excludeOptions, {\n          valueKey: this.props.valueKey,\n          labelKey: this.props.labelKey\n        });\n      } // can user create a new option + there's no exact match already\n\n\n      if (filterValue && this.props.creatable && this.options.concat(this.props.value).every(function (opt) {\n        return opt[_this5.props.labelKey].toLowerCase() !== filterValue.toLowerCase().trim();\n      })) {\n        var _this$options$push; // $FlowFixMe - this.options is typed as a read-only array\n\n\n        this.options.push((_this$options$push = {\n          id: filterValue\n        }, _defineProperty(_this$options$push, this.props.labelKey, filterValue), _defineProperty(_this$options$push, this.props.valueKey, filterValue), _defineProperty(_this$options$push, \"isCreatable\", true), _this$options$push));\n      }\n\n      return this.options;\n    }\n  }, {\n    key: \"getSharedProps\",\n    value: function getSharedProps() {\n      var _this$props = this.props,\n          clearable = _this$props.clearable,\n          creatable = _this$props.creatable,\n          disabled = _this$props.disabled,\n          error = _this$props.error,\n          positive = _this$props.positive,\n          isLoading = _this$props.isLoading,\n          multi = _this$props.multi,\n          required = _this$props.required,\n          size = _this$props.size,\n          searchable = _this$props.searchable,\n          type = _this$props.type,\n          value = _this$props.value;\n      var _this$state = this.state,\n          isOpen = _this$state.isOpen,\n          isFocused = _this$state.isFocused,\n          isPseudoFocused = _this$state.isPseudoFocused;\n      return {\n        $clearable: clearable,\n        $creatable: creatable,\n        $disabled: disabled,\n        $error: error,\n        $positive: positive,\n        $isFocused: isFocused,\n        $isLoading: isLoading,\n        $isOpen: isOpen,\n        $isPseudoFocused: isPseudoFocused,\n        $multi: multi,\n        $required: required,\n        $searchable: searchable,\n        $size: size,\n        $type: type,\n        $isEmpty: !this.getValueArray(value).length\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      this.options = normalizeOptions(this.props.options);\n      var _this$props2 = this.props,\n          _this$props2$override = _this$props2.overrides,\n          overrides = _this$props2$override === void 0 ? {} : _this$props2$override,\n          type = _this$props2.type,\n          multi = _this$props2.multi,\n          noResultsMsg = _this$props2.noResultsMsg,\n          value = _this$props2.value,\n          filterOutSelected = _this$props2.filterOutSelected;\n\n      if (process.env.NODE_ENV !== \"production\") {\n        // value may be nullish, only warn if value is defined\n        if (value && !Array.isArray(value)) {\n          console.warn('The Select component expects an array as the value prop. For more information, please visit the docs at https://baseweb.design/components/select/');\n        }\n      }\n\n      var _getOverrides13 = getOverrides(overrides.Root, StyledRoot),\n          _getOverrides14 = _slicedToArray(_getOverrides13, 2),\n          Root = _getOverrides14[0],\n          rootProps = _getOverrides14[1];\n\n      var _getOverrides15 = getOverrides(overrides.ControlContainer, StyledControlContainer),\n          _getOverrides16 = _slicedToArray(_getOverrides15, 2),\n          ControlContainer = _getOverrides16[0],\n          controlContainerProps = _getOverrides16[1];\n\n      var _getOverrides17 = getOverrides(overrides.ValueContainer, StyledValueContainer),\n          _getOverrides18 = _slicedToArray(_getOverrides17, 2),\n          ValueContainer = _getOverrides18[0],\n          valueContainerProps = _getOverrides18[1];\n\n      var _getOverrides19 = getOverrides(overrides.IconsContainer, StyledIconsContainer),\n          _getOverrides20 = _slicedToArray(_getOverrides19, 2),\n          IconsContainer = _getOverrides20[0],\n          iconsContainerProps = _getOverrides20[1];\n\n      var _getOverrides21 = getOverrides(overrides.Popover, Popover),\n          _getOverrides22 = _slicedToArray(_getOverrides21, 2),\n          PopoverOverride = _getOverrides22[0],\n          popoverProps = _getOverrides22[1];\n\n      var _getOverrides23 = getOverrides(overrides.Placeholder, StyledPlaceholder),\n          _getOverrides24 = _slicedToArray(_getOverrides23, 2),\n          Placeholder = _getOverrides24[0],\n          placeholderProps = _getOverrides24[1];\n\n      var sharedProps = this.getSharedProps();\n      var valueArray = this.getValueArray(value);\n      var options = this.filterOptions(multi && filterOutSelected ? valueArray : null);\n      var isOpen = this.state.isOpen;\n      sharedProps.$isOpen = isOpen;\n\n      if (process.env.NODE_ENV !== \"production\") {\n        if (this.props.error && this.props.positive) {\n          // eslint-disable-next-line no-console\n          console.warn(\"[Select] `error` and `positive` are both set to `true`. `error` will take precedence but this may not be what you want.\");\n        }\n      }\n\n      var showPlaceholder = !valueArray.length && shouldShowPlaceholder(this.state, this.props, isOpen);\n      return React.createElement(LocaleContext.Consumer, null, function (locale) {\n        return React.createElement(PopoverOverride // Popover does not provide ability to forward refs through, and if we were to simply\n        // apply the ref to the Root component below it would be overwritten before the popover\n        // renders it. Using this strategy, we will get a ref to the popover, then reuse its\n        // anchorRef so we can check if clicks are on the select component or not.\n        // eslint-disable-next-line flowtype/no-weak-types\n        , _extends({\n          ref: function ref(_ref5) {\n            if (!_ref5) return;\n            _this6.anchor = _ref5.anchorRef;\n          },\n          focusLock: false,\n          mountNode: _this6.props.mountNode,\n          onEsc: function onEsc() {\n            return _this6.closeMenu();\n          },\n          isOpen: isOpen,\n          content: function content() {\n            var dropdownProps = {\n              error: _this6.props.error,\n              positive: _this6.props.positive,\n              getOptionLabel: _this6.props.getOptionLabel || _this6.getOptionLabel.bind(_this6, locale),\n              isLoading: _this6.props.isLoading,\n              labelKey: _this6.props.labelKey,\n              maxDropdownHeight: _this6.props.maxDropdownHeight,\n              multi: multi,\n              noResultsMsg: noResultsMsg,\n              onItemSelect: _this6.selectValue,\n              options: options,\n              overrides: overrides,\n              required: _this6.props.required,\n              searchable: _this6.props.searchable,\n              size: _this6.props.size,\n              type: type,\n              value: valueArray,\n              valueKey: _this6.props.valueKey,\n              width: _this6.anchor.current ? _this6.anchor.current.clientWidth : null\n            };\n            return React.createElement(SelectDropdown, _extends({\n              innerRef: _this6.dropdown\n            }, dropdownProps));\n          },\n          placement: PLACEMENT.bottom\n        }, popoverProps), React.createElement(Root, _extends({\n          \"data-baseweb\": \"select\"\n        }, sharedProps, rootProps), React.createElement(ControlContainer, _extends({\n          onKeyDown: _this6.handleKeyDown,\n          onClick: _this6.handleClick,\n          onTouchEnd: _this6.handleTouchEnd,\n          onTouchMove: _this6.handleTouchMove,\n          onTouchStart: _this6.handleTouchStart\n        }, sharedProps, controlContainerProps), type === TYPE.search ? _this6.renderSearch() : null, React.createElement(ValueContainer, _extends({}, sharedProps, valueContainerProps), _this6.renderValue(valueArray, isOpen, locale), _this6.renderInput(), showPlaceholder ? React.createElement(Placeholder, _extends({}, sharedProps, placeholderProps), typeof _this6.props.placeholder !== 'undefined' ? _this6.props.placeholder : locale.select.placeholder) : null), React.createElement(IconsContainer, _extends({}, sharedProps, iconsContainerProps), _this6.renderLoading(), _this6.renderClear(), type === TYPE.select ? _this6.renderArrow() : null))));\n      });\n    }\n  }]);\n\n  return Select;\n}(React.Component);\n\n_defineProperty(Select, \"defaultProps\", defaultProps);\n\nexport default Select;","map":{"version":3,"sources":["/home/zhiguangda/ITS/deckgl/node_modules/baseui/esm/select/select-component.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_extends","assign","hasOwnProperty","call","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","toString","_arr","_n","_d","_e","undefined","_i","_s","next","done","value","err","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","from","arr2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","React","getOverrides","DeleteAlt","TriangleDownIcon","SearchIconComponent","LocaleContext","Popover","PLACEMENT","Spinner","AutosizeInput","TYPE","STATE_CHANGE_TYPE","defaultProps","SelectDropdown","StyledRoot","StyledControlContainer","StyledPlaceholder","StyledValueContainer","StyledInputContainer","StyledIconsContainer","StyledSelectArrow","StyledClearIcon","getLoadingIconStyles","StyledSearchIconContainer","expandValue","normalizeOptions","shouldShowValue","shouldShowPlaceholder","Noop","isClick","event","type","isLeftClick","button","containsNode","parent","child","document","contains","isInteractive","rootTarget","rootElement","Element","role","getAttribute","tagName","parentElement","Select","_React$Component","_this","createRef","inputValue","isFocused","isOpen","startOpen","isPseudoFocused","dropdown","current","anchor","closeMenu","dragging","handleClick","clearValue","disabled","input","state","openAfterFocus","openOnClick","focus","setState","searchable","prev","focusAfterClear","onFocus","toOpen","onBlur","onBlurredState","onBlurResetsInput","isMounted","removeEventListener","handleClickOutside","justSelected","handleBlur","newInputValue","onInputChange","keyCode","backspaceRemoves","preventDefault","popValue","stopPropagation","prevState","onCloseResetsInput","clearable","escapeClearsValue","shiftKey","deleteRemoves","locale","_ref","option","isCreatable","concat","select","labelKey","_ref2","_ref3","item","updatedValue","onSelectResetsInput","multi","closeOnSelect","valueArray","some","valueKey","removeValue","addValue","setValue","valueLength","clearableValue","pop","remove","resetValue","clear","options","componentDidMount","autoFocus","componentDidUpdate","prevProps","onOpen","addEventListener","handleTouchOutside","onClose","componentWillUnmount","getValueArray","_this2","map","onChange","renderLoading","isLoading","sharedProps","getSharedProps","_this$props$overrides","overrides","_getOverrides","LoadingIndicator","_getOverrides2","loadingIndicatorProps","createElement","size","Svg","style","renderValue","_this3","_this$props$overrides2","renderLabel","getValueLabel","Value","valueComponent","$disabled","MultiValue","index","SingleValue","renderInput","_this4","_this$props$overrides3","_getOverrides3","InputContainer","_getOverrides4","inputContainerProps","required","handleInputFocus","ref","_ref4","tabIndex","id","inputRef","handleInputChange","Input","renderClear","_this$props$overrides4","_getOverrides5","ClearIcon","_getOverrides6","clearIconProps","ariaLabel","title","onClick","onTouchEnd","handleTouchEndClearValue","onTouchMove","handleTouchMove","onTouchStart","handleTouchStart","component","renderArrow","_this$props$overrides5","_getOverrides7","SelectArrow","_getOverrides8","selectArrowProps","renderSearch","search","_this$props$overrides6","_getOverrides9","SearchIconContainer","_getOverrides10","searchIconContainerProps","_getOverrides11","SearchIcon","_getOverrides12","searchIconProps","filterOptions","excludeOptions","_this5","filterValue","creatable","every","opt","toLowerCase","trim","_this$options$push","_this$props","error","positive","_this$state","$clearable","$creatable","$error","$positive","$isFocused","$isLoading","$isOpen","$isPseudoFocused","$multi","$required","$searchable","$size","$type","$isEmpty","render","_this6","_this$props2","_this$props2$override","noResultsMsg","filterOutSelected","process","env","NODE_ENV","console","warn","_getOverrides13","Root","_getOverrides14","rootProps","_getOverrides15","ControlContainer","_getOverrides16","controlContainerProps","_getOverrides17","ValueContainer","_getOverrides18","valueContainerProps","_getOverrides19","IconsContainer","_getOverrides20","iconsContainerProps","_getOverrides21","_getOverrides22","PopoverOverride","popoverProps","_getOverrides23","Placeholder","_getOverrides24","placeholderProps","showPlaceholder","Consumer","_ref5","anchorRef","focusLock","mountNode","onEsc","content","dropdownProps","getOptionLabel","bind","maxDropdownHeight","onItemSelect","selectValue","width","clientWidth","innerRef","placement","bottom","onKeyDown","handleKeyDown","handleTouchEnd","placeholder","Component"],"mappings":"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","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport * as React from 'react';\nimport { getOverrides } from '../helpers/overrides.js';\nimport DeleteAlt from '../icon/delete-alt.js';\nimport TriangleDownIcon from '../icon/triangle-down.js';\nimport SearchIconComponent from '../icon/search.js';\nimport { LocaleContext } from '../locale/index.js';\nimport { Popover, PLACEMENT } from '../popover/index.js';\nimport { Spinner } from '../spinner/index.js';\nimport AutosizeInput from './autosize-input.js';\nimport { TYPE, STATE_CHANGE_TYPE } from './constants.js';\nimport defaultProps from './default-props.js';\nimport SelectDropdown from './dropdown.js';\nimport { StyledRoot, StyledControlContainer, StyledPlaceholder, StyledValueContainer, StyledInputContainer, StyledIconsContainer, StyledSelectArrow, StyledClearIcon, getLoadingIconStyles, StyledSearchIconContainer } from './styled-components.js';\nimport { expandValue, normalizeOptions, shouldShowValue, shouldShowPlaceholder } from './utils/index.js';\n\nfunction Noop() {\n  return null;\n}\n\nvar isClick = function isClick(event) {\n  return event.type === 'click';\n};\n\nvar isLeftClick = function isLeftClick(event) {\n  return event.button !== null && event.button !== undefined && event.button === 0;\n};\n\nvar containsNode = function containsNode(parent, child) {\n  if (typeof document !== 'undefined') {\n    // eslint-disable-next-line flowtype/no-weak-types\n    return child && parent && parent.contains(child);\n  }\n};\n\nexport function isInteractive(rootTarget, rootElement) {\n  if (rootTarget instanceof Element) {\n    var target = rootTarget;\n\n    while (target && target !== rootElement) {\n      var role = target.getAttribute('role');\n\n      if (role === 'button' || role === 'link') {\n        return true;\n      }\n\n      if (target.tagName) target = target.parentElement;\n    }\n  }\n\n  return false;\n} // eslint-disable-next-line flowtype/no-weak-types\n\nvar Select =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Select, _React$Component);\n\n  // anchor is a ref that refers to the outermost element rendered when the dropdown menu is not\n  // open. This is required so that we can check if clicks are on/off the anchor element.\n  // dropdown is a ref that refers to the popover element. This is required so that we can check if\n  // clicks are on/off the dropdown element.\n  // dragging is a flag to track whether a mobile device is currently scrolling versus clicking.\n  // focusAfterClear is a flag to indicate that the dropdowm menu should open after a selected\n  // option has been cleared.\n  // openAfterFocus is a flag to indicate that the dropdown menu should open when the component is\n  // focused. Developers have the option to disable initial clicks opening the dropdown menu. If not\n  // disabled, clicks will set this flag to true. Upon focusing, look to this to see if the menu should\n  // be opened, or only focus.\n  // When an item is selected, it also triggers handleClickOutside and since the selected item is\n  // already out of the menu (DOM), it will not recognize it as a subnode and triggers handleBlur\n  // that sets isOpen to false. That's a faulty logic causing visible problems when\n  // closeOnSelect is false. This flag helps to detect that selection was just made.\n  // the select components can accept an array of options or an object where properties are optgroups\n  // and values are arrays of options. this class property is constructed and updated in a normalized\n  // shape where optgroup titles are stored on the option in the __optgroup field.\n  function Select(props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"anchor\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"dropdown\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"input\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"dragging\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focusAfterClear\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"openAfterFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"justSelected\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"options\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      inputValue: '',\n      isFocused: false,\n      isOpen: _this.props.startOpen,\n      isPseudoFocused: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isMounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchOutside\", function (event) {\n      if (containsNode(_this.dropdown.current, event.target)) return;\n\n      if (!containsNode(_this.anchor.current, event.target)) {\n        _this.closeMenu();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function () {\n      return _this.dragging = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function () {\n      return _this.dragging = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (event) {\n      if (_this.dragging) return;\n\n      _this.handleClick(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchEndClearValue\", function (event) {\n      if (_this.dragging) return;\n\n      _this.clearValue(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (event) {\n      if (_this.props.disabled || !isClick(event) && !isLeftClick(event)) {\n        return;\n      } // Case comes up when text has been typed into the input field. If no text provided,\n      // the 'input' element will have essentially 0 width therefore will not be clickable.\n      // When click outside does not reset input, text provided will stay rendered after clicks away\n      // from the select component. Upon subsequent clicks on the provided text, open the dropdown\n      // menu, in addition to text edit operations.\n\n\n      if (event.target === _this.input) {\n        // CHASE: not sure why this condition is here. I cannot replicate a situation where clicks\n        // on provided text break into here.\n        if (!_this.state.isFocused) {\n          _this.openAfterFocus = _this.props.openOnClick;\n\n          _this.focus();\n\n          return;\n        }\n\n        if (!_this.state.isOpen) {\n          _this.setState({\n            isOpen: true,\n            isPseudoFocused: false\n          });\n\n          return;\n        }\n      } // Ensures that interactive elements within the Select component do not trigger the outer click\n      // handler. For example, after an option is selected clicks on the 'clear' icon call here. We\n      // should ignore those events. This comes after case where click is on input element, so that\n      // those are handled on their own.\n\n\n      if (_this.input && isInteractive(event.target, _this.input)) {\n        return;\n      } // For the simple case where clicking on the Select does not allow for providing\n      // text input to filter the dropdown options.\n\n\n      if (!_this.props.searchable) {\n        _this.focus();\n\n        _this.setState(function (prev) {\n          return {\n            isOpen: !prev.isOpen\n          };\n        });\n\n        return;\n      } // Cases below only apply to searchable Select component.\n\n\n      if (_this.state.isFocused) {\n        // iOS ignores programmatic calls to input.focus() that were not triggered by a click event.\n        // This component can get into a state where isFocused is true, but the DOM node is not\n        // focused. Call focus here again to ensure.\n        _this.focus(); // Case comes up when click outside does not reset input - once text has been provided to\n        // the input, and the user closes the dropdown menu the provided text is maintained. After\n        // this, if the user focuses back into the select component then clicks on the component,\n        // the provided text highlights rather than position's the cursor at the end of the input.\n\n\n        if (_this.input) _this.input.value = '';\n\n        _this.setState(function (prev) {\n          return {\n            isOpen: !_this.focusAfterClear && !prev.isOpen,\n            isPseudoFocused: false\n          };\n        });\n\n        _this.focusAfterClear = false;\n      } else {\n        _this.openAfterFocus = _this.props.openOnClick;\n\n        _this.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleInputFocus\", function (event) {\n      if (_this.props.disabled) return;\n      if (_this.props.onFocus) _this.props.onFocus(event);\n      var toOpen = _this.state.isOpen || _this.openAfterFocus; // if focus happens after clear values, don't open dropdown yet.\n\n      toOpen = !_this.focusAfterClear && toOpen;\n\n      _this.setState({\n        isFocused: true,\n        isOpen: !!toOpen\n      });\n\n      _this.focusAfterClear = false;\n      _this.openAfterFocus = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleBlur\", function (event) {\n      if (containsNode(_this.anchor.current, event.target)) {\n        return;\n      }\n\n      if (_this.props.onBlur) {\n        _this.props.onBlur(event);\n      }\n\n      var onBlurredState = {\n        isFocused: false,\n        isOpen: false,\n        isPseudoFocused: false\n      };\n\n      if (_this.props.onBlurResetsInput) {\n        onBlurredState.inputValue = '';\n      }\n\n      if (_this.isMounted) {\n        _this.setState(onBlurredState);\n      }\n\n      if (typeof document !== 'undefined') {\n        document.removeEventListener('click', _this.handleClickOutside);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickOutside\", function (event) {\n      if (_this.justSelected) {\n        _this.justSelected = false;\n        return;\n      }\n\n      if (containsNode(_this.dropdown.current, event.target)) return;\n      var isFocused = _this.state.isFocused || _this.state.isPseudoFocused;\n\n      if (isFocused && !containsNode(_this.anchor.current, event.target)) {\n        _this.handleBlur(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleInputChange\", function (event) {\n      var newInputValue = event.target.value;\n\n      _this.setState({\n        inputValue: newInputValue,\n        isOpen: true,\n        isPseudoFocused: false\n      });\n\n      if (_this.props.onInputChange) {\n        _this.props.onInputChange(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      if (_this.props.disabled) return;\n\n      switch (event.keyCode) {\n        case 8:\n          // backspace\n          if (!_this.state.inputValue && _this.props.backspaceRemoves) {\n            event.preventDefault();\n\n            _this.popValue();\n          }\n\n          break;\n\n        case 13:\n          // enter\n          event.preventDefault();\n          event.stopPropagation();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 9:\n          // tab\n          _this.setState(function (prevState) {\n            return {\n              isPseudoFocused: false,\n              isFocused: false,\n              isOpen: false,\n              inputValue: _this.props.onCloseResetsInput ? '' : prevState.inputValue\n            };\n          });\n\n          break;\n\n        case 27:\n          // escape\n          if (!_this.state.isOpen && _this.props.clearable && _this.props.escapeClearsValue) {\n            _this.clearValue(event);\n\n            _this.setState({\n              isFocused: false,\n              isPseudoFocused: false\n            });\n          }\n\n          break;\n\n        case 32:\n          // space\n          if (_this.props.searchable) {\n            break;\n          }\n\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 38:\n          // up\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 40:\n          // down\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 33:\n          // page up\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 34:\n          // page down\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 35:\n          // end key\n          if (event.shiftKey) {\n            break;\n          }\n\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 36:\n          // home key\n          if (event.shiftKey) {\n            break;\n          }\n\n          event.preventDefault();\n\n          if (!_this.state.isOpen) {\n            _this.setState({\n              isOpen: true\n            });\n          }\n\n          break;\n\n        case 46:\n          // delete\n          if (!_this.state.inputValue && _this.props.deleteRemoves) {\n            event.preventDefault();\n\n            _this.popValue();\n          }\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getOptionLabel\", function (locale, _ref) {\n      var option = _ref.option;\n      return option.isCreatable ? \"\".concat(locale.select.create, \" \\u201C\").concat(option[_this.props.labelKey], \"\\u201D\") : option[_this.props.labelKey];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getValueLabel\", function (_ref2) {\n      var option = _ref2.option;\n      return option[_this.props.labelKey];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectValue\", function (_ref3) {\n      var item = _ref3.item;\n\n      if (item.disabled) {\n        return;\n      }\n\n      _this.justSelected = true; // NOTE: we add/set the value in a callback to make sure the\n      // input value is empty to avoid styling issues in Chrome\n\n      var updatedValue = _this.props.onSelectResetsInput ? '' : _this.state.inputValue;\n\n      if (_this.props.multi) {\n        _this.setState({\n          inputValue: updatedValue,\n          isOpen: !_this.props.closeOnSelect\n        }, function () {\n          var valueArray = _this.props.value;\n\n          if (valueArray.some(function (i) {\n            return i[_this.props.valueKey] === item[_this.props.valueKey];\n          })) {\n            _this.removeValue(item);\n          } else {\n            _this.addValue(item);\n          }\n        });\n      } else {\n        _this.focus();\n\n        _this.setState({\n          inputValue: updatedValue,\n          isOpen: !_this.props.closeOnSelect,\n          isFocused: true,\n          isPseudoFocused: false\n        }, function () {\n          _this.setValue([item], item, STATE_CHANGE_TYPE.select);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addValue\", function (item) {\n      var valueArray = _toConsumableArray(_this.props.value);\n\n      _this.setValue(valueArray.concat(item), item, STATE_CHANGE_TYPE.select);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"popValue\", function () {\n      if (_this.props.multi) {\n        var valueArray = _toConsumableArray(_this.props.value);\n\n        var valueLength = valueArray.length;\n        if (!valueLength) return;\n        if (valueArray[valueLength - 1].clearableValue === false) return;\n        var item = valueArray.pop();\n\n        _this.setValue(valueArray, item, STATE_CHANGE_TYPE.remove);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeValue\", function (item) {\n      var valueArray = _toConsumableArray(_this.props.value);\n\n      _this.setValue(valueArray.filter(function (i) {\n        return i[_this.props.valueKey] !== item[_this.props.valueKey];\n      }), item, STATE_CHANGE_TYPE.remove);\n\n      _this.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearValue\", function (event) {\n      if (isClick(event) && !isLeftClick(event)) return;\n\n      if (_this.props.value) {\n        var resetValue = _this.props.value.filter(function (item) {\n          return item.clearableValue === false;\n        });\n\n        _this.setValue(resetValue, null, STATE_CHANGE_TYPE.clear);\n      }\n\n      _this.setState({\n        inputValue: '',\n        isOpen: false\n      });\n\n      _this.focus();\n\n      _this.focusAfterClear = true;\n    });\n\n    _this.options = normalizeOptions(props.options);\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoFocus) {\n        this.focus();\n      }\n\n      this.isMounted = true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (typeof document !== 'undefined') {\n        if (prevState.isOpen !== this.state.isOpen) {\n          if (this.state.isOpen) {\n            this.props.onOpen && this.props.onOpen();\n            document.addEventListener('touchstart', this.handleTouchOutside);\n          } else {\n            this.props.onClose && this.props.onClose();\n            document.removeEventListener('touchstart', this.handleTouchOutside);\n          }\n        }\n\n        if (!prevState.isFocused && this.state.isFocused) {\n          document.addEventListener('click', this.handleClickOutside);\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (typeof document !== 'undefined') {\n        document.removeEventListener('touchstart', this.handleTouchOutside);\n      }\n\n      this.isMounted = false;\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!this.input) return;\n      this.input.focus();\n    } // Handle touch outside on mobile to dismiss menu, ensures that the\n    // touch target is not within the anchor DOM node.\n\n  }, {\n    key: \"closeMenu\",\n    value: function closeMenu() {\n      if (this.props.onCloseResetsInput) {\n        this.setState({\n          inputValue: '',\n          isOpen: false,\n          isPseudoFocused: this.state.isFocused && !this.props.multi\n        });\n      } else {\n        this.setState({\n          isOpen: false,\n          isPseudoFocused: this.state.isFocused && !this.props.multi\n        });\n      }\n    }\n  }, {\n    key: \"getValueArray\",\n\n    /**\n     * Extends the value into an array from the given options\n     */\n    value: function getValueArray(value) {\n      var _this2 = this;\n\n      if (!Array.isArray(value)) {\n        if (value === null || value === undefined) return [];\n        value = [value];\n      }\n\n      return value.map(function (value) {\n        return expandValue(value, _this2.props);\n      });\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, option, type) {\n      if (this.props.onChange) {\n        this.props.onChange({\n          value: value,\n          option: option,\n          type: type\n        });\n      }\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      if (!this.props.isLoading) return;\n      var sharedProps = this.getSharedProps();\n      var _this$props$overrides = this.props.overrides,\n          overrides = _this$props$overrides === void 0 ? {} : _this$props$overrides;\n\n      var _getOverrides = getOverrides(overrides.LoadingIndicator, Spinner),\n          _getOverrides2 = _slicedToArray(_getOverrides, 2),\n          LoadingIndicator = _getOverrides2[0],\n          loadingIndicatorProps = _getOverrides2[1];\n\n      return React.createElement(LoadingIndicator, _extends({\n        size: 16,\n        overrides: {\n          Svg: {\n            style: getLoadingIconStyles\n          }\n        }\n      }, sharedProps, loadingIndicatorProps));\n    }\n  }, {\n    key: \"renderValue\",\n    value: function renderValue(valueArray, isOpen, locale) {\n      var _this3 = this;\n\n      var _this$props$overrides2 = this.props.overrides,\n          overrides = _this$props$overrides2 === void 0 ? {} : _this$props$overrides2;\n      var sharedProps = this.getSharedProps();\n      var renderLabel = this.props.getValueLabel || this.getValueLabel;\n      var Value = this.props.valueComponent || Noop;\n\n      if (!valueArray.length) {\n        return null;\n      }\n\n      if (this.props.multi) {\n        return valueArray.map(function (value, i) {\n          var disabled = sharedProps.$disabled || value.clearableValue === false;\n          return React.createElement(Value, _extends({\n            value: value,\n            key: \"value-\".concat(i, \"-\").concat(value[_this3.props.valueKey]),\n            removeValue: function removeValue() {\n              return _this3.removeValue(value);\n            },\n            disabled: disabled,\n            overrides: {\n              MultiValue: overrides.MultiValue\n            }\n          }, sharedProps, {\n            $disabled: disabled\n          }), renderLabel({\n            option: value,\n            index: i\n          }));\n        });\n      } else if (shouldShowValue(this.state, this.props)) {\n        return React.createElement(Value, _extends({\n          value: valueArray[0][this.props.valueKey],\n          disabled: this.props.disabled,\n          overrides: {\n            SingleValue: overrides.SingleValue\n          }\n        }, sharedProps), renderLabel({\n          option: valueArray[0]\n        }));\n      }\n    }\n  }, {\n    key: \"renderInput\",\n    value: function renderInput() {\n      var _this4 = this;\n\n      var _this$props$overrides3 = this.props.overrides,\n          overrides = _this$props$overrides3 === void 0 ? {} : _this$props$overrides3;\n\n      var _getOverrides3 = getOverrides(overrides.InputContainer, StyledInputContainer),\n          _getOverrides4 = _slicedToArray(_getOverrides3, 2),\n          InputContainer = _getOverrides4[0],\n          inputContainerProps = _getOverrides4[1];\n\n      var sharedProps = this.getSharedProps();\n      var isOpen = this.state.isOpen;\n      var value = this.state.inputValue;\n\n      if (value && !this.props.onSelectResetsInput && !this.state.isFocused) {\n        // It hides input value when it is not focused and was not reset on select\n        value = '';\n      }\n\n      if (!this.props.searchable) {\n        return React.createElement(InputContainer, _extends({\n          \"aria-expanded\": isOpen,\n          \"aria-disabled\": this.props.disabled,\n          \"aria-label\": this.props['aria-label'],\n          \"aria-labelledby\": this.props['aria-labelledby'],\n          \"aria-required\": this.props.required || null,\n          onBlur: this.handleBlur,\n          onFocus: this.handleInputFocus,\n          ref: function ref(_ref4) {\n            return _this4.input = _ref4;\n          },\n          tabIndex: 0\n        }, sharedProps, inputContainerProps));\n      }\n\n      return React.createElement(InputContainer, _extends({}, sharedProps, inputContainerProps), React.createElement(AutosizeInput, _extends({\n        \"aria-autocomplete\": \"list\",\n        \"aria-describedby\": this.props['aria-describedby'],\n        \"aria-errormessage\": this.props['aria-errormessage'],\n        \"aria-disabled\": this.props.disabled || null,\n        \"aria-expanded\": isOpen,\n        \"aria-haspopup\": isOpen,\n        \"aria-label\": this.props['aria-label'],\n        \"aria-labelledby\": this.props['aria-labelledby'],\n        \"aria-required\": this.props.required || null,\n        disabled: this.props.disabled || null,\n        id: this.props.id || null,\n        inputRef: function inputRef(ref) {\n          return _this4.input = ref;\n        },\n        onBlur: this.handleBlur,\n        onChange: this.handleInputChange,\n        onFocus: this.handleInputFocus,\n        overrides: {\n          Input: overrides.Input\n        },\n        required: this.props.required && !this.props.value.length || null,\n        role: \"combobox\",\n        value: value,\n        tabIndex: 0\n      }, sharedProps)));\n    }\n  }, {\n    key: \"renderClear\",\n    value: function renderClear() {\n      var sharedProps = this.getSharedProps();\n      var value = this.props.value;\n      if (!this.props.clearable || !value || !value.length || this.props.disabled || this.props.isLoading) return;\n      var _this$props$overrides4 = this.props.overrides,\n          overrides = _this$props$overrides4 === void 0 ? {} : _this$props$overrides4;\n\n      var _getOverrides5 = getOverrides(overrides.ClearIcon, DeleteAlt),\n          _getOverrides6 = _slicedToArray(_getOverrides5, 2),\n          ClearIcon = _getOverrides6[0],\n          clearIconProps = _getOverrides6[1];\n\n      var ariaLabel = this.props.multi ? 'Clear all' : 'Clear value';\n      return React.createElement(ClearIcon, _extends({\n        size: 16,\n        title: ariaLabel,\n        \"aria-label\": ariaLabel,\n        onClick: this.clearValue,\n        onTouchEnd: this.handleTouchEndClearValue,\n        onTouchMove: this.handleTouchMove,\n        onTouchStart: this.handleTouchStart,\n        role: \"button\",\n        overrides: {\n          Svg: _objectSpread({\n            component: StyledClearIcon\n          }, overrides.ClearIcon && overrides.ClearIcon.props ? {\n            props: overrides.ClearIcon.props\n          } : {}, {}, overrides.ClearIcon && overrides.ClearIcon.style ? {\n            style: overrides.ClearIcon.style\n          } : {})\n        }\n      }, sharedProps, clearIconProps));\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow() {\n      if (this.props.type !== TYPE.select) {\n        return null;\n      }\n\n      var _this$props$overrides5 = this.props.overrides,\n          overrides = _this$props$overrides5 === void 0 ? {} : _this$props$overrides5;\n\n      var _getOverrides7 = getOverrides(overrides.SelectArrow, TriangleDownIcon),\n          _getOverrides8 = _slicedToArray(_getOverrides7, 2),\n          SelectArrow = _getOverrides8[0],\n          selectArrowProps = _getOverrides8[1];\n\n      var sharedProps = this.getSharedProps();\n      return React.createElement(SelectArrow, _extends({\n        size: 16,\n        title: 'open',\n        overrides: {\n          Svg: _objectSpread({\n            component: StyledSelectArrow\n          }, overrides.SelectArrow && overrides.SelectArrow.props ? {\n            props: overrides.SelectArrow.props\n          } : {}, {}, overrides.SelectArrow && overrides.SelectArrow.style ? {\n            style: overrides.SelectArrow.style\n          } : {})\n        }\n      }, sharedProps, selectArrowProps));\n    }\n  }, {\n    key: \"renderSearch\",\n    value: function renderSearch() {\n      if (this.props.type !== TYPE.search) {\n        return null;\n      }\n\n      var _this$props$overrides6 = this.props.overrides,\n          overrides = _this$props$overrides6 === void 0 ? {} : _this$props$overrides6;\n\n      var _getOverrides9 = getOverrides(overrides.SearchIconContainer, StyledSearchIconContainer),\n          _getOverrides10 = _slicedToArray(_getOverrides9, 2),\n          SearchIconContainer = _getOverrides10[0],\n          searchIconContainerProps = _getOverrides10[1];\n\n      var _getOverrides11 = getOverrides(overrides.SearchIcon, SearchIconComponent),\n          _getOverrides12 = _slicedToArray(_getOverrides11, 2),\n          SearchIcon = _getOverrides12[0],\n          searchIconProps = _getOverrides12[1];\n\n      var sharedProps = this.getSharedProps();\n      return (// TODO(v10): remove searchIconProps from SearchIconContainer\n        React.createElement(SearchIconContainer, _extends({}, sharedProps, searchIconProps, searchIconContainerProps), React.createElement(SearchIcon, _extends({\n          size: 16,\n          title: 'search'\n        }, searchIconProps)))\n      );\n    }\n  }, {\n    key: \"filterOptions\",\n    value: function filterOptions(excludeOptions) {\n      var _this5 = this;\n\n      var filterValue = this.state.inputValue; // apply filter function\n\n      if (this.props.filterOptions) {\n        this.options = this.props.filterOptions(this.options, filterValue, excludeOptions, {\n          valueKey: this.props.valueKey,\n          labelKey: this.props.labelKey\n        });\n      } // can user create a new option + there's no exact match already\n\n\n      if (filterValue && this.props.creatable && this.options.concat(this.props.value).every(function (opt) {\n        return opt[_this5.props.labelKey].toLowerCase() !== filterValue.toLowerCase().trim();\n      })) {\n        var _this$options$push;\n\n        // $FlowFixMe - this.options is typed as a read-only array\n        this.options.push((_this$options$push = {\n          id: filterValue\n        }, _defineProperty(_this$options$push, this.props.labelKey, filterValue), _defineProperty(_this$options$push, this.props.valueKey, filterValue), _defineProperty(_this$options$push, \"isCreatable\", true), _this$options$push));\n      }\n\n      return this.options;\n    }\n  }, {\n    key: \"getSharedProps\",\n    value: function getSharedProps() {\n      var _this$props = this.props,\n          clearable = _this$props.clearable,\n          creatable = _this$props.creatable,\n          disabled = _this$props.disabled,\n          error = _this$props.error,\n          positive = _this$props.positive,\n          isLoading = _this$props.isLoading,\n          multi = _this$props.multi,\n          required = _this$props.required,\n          size = _this$props.size,\n          searchable = _this$props.searchable,\n          type = _this$props.type,\n          value = _this$props.value;\n      var _this$state = this.state,\n          isOpen = _this$state.isOpen,\n          isFocused = _this$state.isFocused,\n          isPseudoFocused = _this$state.isPseudoFocused;\n      return {\n        $clearable: clearable,\n        $creatable: creatable,\n        $disabled: disabled,\n        $error: error,\n        $positive: positive,\n        $isFocused: isFocused,\n        $isLoading: isLoading,\n        $isOpen: isOpen,\n        $isPseudoFocused: isPseudoFocused,\n        $multi: multi,\n        $required: required,\n        $searchable: searchable,\n        $size: size,\n        $type: type,\n        $isEmpty: !this.getValueArray(value).length\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      this.options = normalizeOptions(this.props.options);\n      var _this$props2 = this.props,\n          _this$props2$override = _this$props2.overrides,\n          overrides = _this$props2$override === void 0 ? {} : _this$props2$override,\n          type = _this$props2.type,\n          multi = _this$props2.multi,\n          noResultsMsg = _this$props2.noResultsMsg,\n          value = _this$props2.value,\n          filterOutSelected = _this$props2.filterOutSelected;\n\n      if (process.env.NODE_ENV !== \"production\") {\n        // value may be nullish, only warn if value is defined\n        if (value && !Array.isArray(value)) {\n          console.warn('The Select component expects an array as the value prop. For more information, please visit the docs at https://baseweb.design/components/select/');\n        }\n      }\n\n      var _getOverrides13 = getOverrides(overrides.Root, StyledRoot),\n          _getOverrides14 = _slicedToArray(_getOverrides13, 2),\n          Root = _getOverrides14[0],\n          rootProps = _getOverrides14[1];\n\n      var _getOverrides15 = getOverrides(overrides.ControlContainer, StyledControlContainer),\n          _getOverrides16 = _slicedToArray(_getOverrides15, 2),\n          ControlContainer = _getOverrides16[0],\n          controlContainerProps = _getOverrides16[1];\n\n      var _getOverrides17 = getOverrides(overrides.ValueContainer, StyledValueContainer),\n          _getOverrides18 = _slicedToArray(_getOverrides17, 2),\n          ValueContainer = _getOverrides18[0],\n          valueContainerProps = _getOverrides18[1];\n\n      var _getOverrides19 = getOverrides(overrides.IconsContainer, StyledIconsContainer),\n          _getOverrides20 = _slicedToArray(_getOverrides19, 2),\n          IconsContainer = _getOverrides20[0],\n          iconsContainerProps = _getOverrides20[1];\n\n      var _getOverrides21 = getOverrides(overrides.Popover, Popover),\n          _getOverrides22 = _slicedToArray(_getOverrides21, 2),\n          PopoverOverride = _getOverrides22[0],\n          popoverProps = _getOverrides22[1];\n\n      var _getOverrides23 = getOverrides(overrides.Placeholder, StyledPlaceholder),\n          _getOverrides24 = _slicedToArray(_getOverrides23, 2),\n          Placeholder = _getOverrides24[0],\n          placeholderProps = _getOverrides24[1];\n\n      var sharedProps = this.getSharedProps();\n      var valueArray = this.getValueArray(value);\n      var options = this.filterOptions(multi && filterOutSelected ? valueArray : null);\n      var isOpen = this.state.isOpen;\n      sharedProps.$isOpen = isOpen;\n\n      if (process.env.NODE_ENV !== \"production\") {\n        if (this.props.error && this.props.positive) {\n          // eslint-disable-next-line no-console\n          console.warn(\"[Select] `error` and `positive` are both set to `true`. `error` will take precedence but this may not be what you want.\");\n        }\n      }\n\n      var showPlaceholder = !valueArray.length && shouldShowPlaceholder(this.state, this.props, isOpen);\n      return React.createElement(LocaleContext.Consumer, null, function (locale) {\n        return React.createElement(PopoverOverride // Popover does not provide ability to forward refs through, and if we were to simply\n        // apply the ref to the Root component below it would be overwritten before the popover\n        // renders it. Using this strategy, we will get a ref to the popover, then reuse its\n        // anchorRef so we can check if clicks are on the select component or not.\n        // eslint-disable-next-line flowtype/no-weak-types\n        , _extends({\n          ref: function ref(_ref5) {\n            if (!_ref5) return;\n            _this6.anchor = _ref5.anchorRef;\n          },\n          focusLock: false,\n          mountNode: _this6.props.mountNode,\n          onEsc: function onEsc() {\n            return _this6.closeMenu();\n          },\n          isOpen: isOpen,\n          content: function content() {\n            var dropdownProps = {\n              error: _this6.props.error,\n              positive: _this6.props.positive,\n              getOptionLabel: _this6.props.getOptionLabel || _this6.getOptionLabel.bind(_this6, locale),\n              isLoading: _this6.props.isLoading,\n              labelKey: _this6.props.labelKey,\n              maxDropdownHeight: _this6.props.maxDropdownHeight,\n              multi: multi,\n              noResultsMsg: noResultsMsg,\n              onItemSelect: _this6.selectValue,\n              options: options,\n              overrides: overrides,\n              required: _this6.props.required,\n              searchable: _this6.props.searchable,\n              size: _this6.props.size,\n              type: type,\n              value: valueArray,\n              valueKey: _this6.props.valueKey,\n              width: _this6.anchor.current ? _this6.anchor.current.clientWidth : null\n            };\n            return React.createElement(SelectDropdown, _extends({\n              innerRef: _this6.dropdown\n            }, dropdownProps));\n          },\n          placement: PLACEMENT.bottom\n        }, popoverProps), React.createElement(Root, _extends({\n          \"data-baseweb\": \"select\"\n        }, sharedProps, rootProps), React.createElement(ControlContainer, _extends({\n          onKeyDown: _this6.handleKeyDown,\n          onClick: _this6.handleClick,\n          onTouchEnd: _this6.handleTouchEnd,\n          onTouchMove: _this6.handleTouchMove,\n          onTouchStart: _this6.handleTouchStart\n        }, sharedProps, controlContainerProps), type === TYPE.search ? _this6.renderSearch() : null, React.createElement(ValueContainer, _extends({}, sharedProps, valueContainerProps), _this6.renderValue(valueArray, isOpen, locale), _this6.renderInput(), showPlaceholder ? React.createElement(Placeholder, _extends({}, sharedProps, placeholderProps), typeof _this6.props.placeholder !== 'undefined' ? _this6.props.placeholder : locale.select.placeholder) : null), React.createElement(IconsContainer, _extends({}, sharedProps, iconsContainerProps), _this6.renderLoading(), _this6.renderClear(), type === TYPE.select ? _this6.renderArrow() : null))));\n      });\n    }\n  }]);\n\n  return Select;\n}(React.Component);\n\n_defineProperty(Select, \"defaultProps\", defaultProps);\n\nexport default Select;"]},"metadata":{},"sourceType":"module"}