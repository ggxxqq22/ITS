{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/zhiguangda/ITS/deckgl/src/components/magicmirror/Weather.js\";\nimport React from 'react';\nexport default class Weather extends React.Component {\n  constructor() {\n    super();\n\n    this.getWeather = async e => {\n      const api_call = await fetch('http://api.openweathermap.org/data/2.5/weather?q=hangzhou&appid=7328419133fa6fd44868e923b84869d1');\n      const data = await api_call.json();\n      console.log(data);\n      const localWeather = data.weather[0].main;\n      const icondata = data.weather[0].icon;\n      console.log(icondata);\n      let localTemp = data.main.temp - 273.15;\n      localTemp = Math.round(localTemp);\n      console.log(localWeather);\n      this.setState({\n        weather: localTemp,\n        icon: icondata,\n        src: 'http://openweathermap.org/img/wn/' + icondata + '.png',\n        localWeather: localWeather\n      }); // console.log(this.state.src)\n      // console.log('图标',data.weather[0].icon)\n    };\n\n    this.state = {\n      weather: null,\n      icon: null,\n      src: null\n    };\n  }\n\n  componentDidMount() {\n    this.getWeather();\n    this.timerID = setInterval(() => this.getWeather(), 150000);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          'position': 'absolute',\n          'right': '15%',\n          'top': '5%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: this.state.src\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          'position': 'absolute',\n          'right': '5%',\n          'top': '5%',\n          color: \"white\",\n          fontSize: \"2em\"\n        },\n        children: this.state.localWeather\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          'position': 'absolute',\n          'right': '5%',\n          'top': '7%',\n          color: \"white\",\n          fontSize: \"2em\"\n        },\n        children: this.state.weather + \"°C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) // <div style={{\n    //     'position': 'absolute',\n    //     'right': '10%',\n    //     'top': '5%',\n    //   }}>\n    //   <img src = {this.state.src}/>\n    //   <div>{this.state.weather+\"°C\"}</div>\n    // </div>\n    ;\n  }\n\n}","map":{"version":3,"sources":["/home/zhiguangda/ITS/deckgl/src/components/magicmirror/Weather.js"],"names":["React","Weather","Component","constructor","getWeather","e","api_call","fetch","data","json","console","log","localWeather","weather","main","icondata","icon","localTemp","temp","Math","round","setState","src","state","componentDidMount","timerID","setInterval","render","color","fontSize"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,OAAN,SAAsBD,KAAK,CAACE,SAA5B,CAAsC;AACjDC,EAAAA,WAAW,GAAG;AACZ;;AADY,SASdC,UATc,GASD,MAAOC,CAAP,IAAa;AACxB,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kGAAD,CAA5B;AACA,YAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,YAAMI,YAAY,GAAGJ,IAAI,CAACK,OAAL,CAAa,CAAb,EAAgBC,IAArC;AACA,YAAMC,QAAQ,GAAGP,IAAI,CAACK,OAAL,CAAa,CAAb,EAAgBG,IAAjC;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACA,UAAIE,SAAS,GAAGT,IAAI,CAACM,IAAL,CAAUI,IAAV,GAAiB,MAAjC;AACAD,MAAAA,SAAS,GAAGE,IAAI,CAACC,KAAL,CAAWH,SAAX,CAAZ;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYC,YAAZ;AACA,WAAKS,QAAL,CAAc;AACZR,QAAAA,OAAO,EAAEI,SADG;AAEZD,QAAAA,IAAI,EAAED,QAFM;AAGZO,QAAAA,GAAG,EAAE,sCAAsCP,QAAtC,GAAgD,MAHzC;AAIZH,QAAAA,YAAY,EAAEA;AAJF,OAAd,EAVwB,CAgBxB;AACA;AACD,KA3Ba;;AAEZ,SAAKW,KAAL,GAAa;AACXV,MAAAA,OAAO,EAAE,IADE;AAEXG,MAAAA,IAAI,EAAE,IAFK;AAGXM,MAAAA,GAAG,EAAE;AAHM,KAAb;AAKD;;AAsBDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKpB,UAAL;AACA,SAAKqB,OAAL,GAAeC,WAAW,CAAC,MAAM,KAAKtB,UAAL,EAAP,EAA0B,MAA1B,CAA1B;AACD;;AAEDuB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE;AAAK,QAAA,KAAK,EAAE;AACV,sBAAY,UADF;AAEV,mBAAS,KAFC;AAGV,iBAAO;AAHG,SAAZ;AAAA,+BAKE;AAAK,UAAA,GAAG,EAAI,KAAKJ,KAAL,CAAWD;AAAvB;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,cADF,eAQE;AAAK,QAAA,KAAK,EAAE;AACV,sBAAY,UADF;AAEV,mBAAS,IAFC;AAGV,iBAAO,IAHG;AAIVM,UAAAA,KAAK,EAAE,OAJG;AAKVC,UAAAA,QAAQ,EAAE;AALA,SAAZ;AAAA,kBAOG,KAAKN,KAAL,CAAWX;AAPd;AAAA;AAAA;AAAA;AAAA,cARF,eAiBE;AAAK,QAAA,KAAK,EAAE;AACV,sBAAY,UADF;AAEV,mBAAS,IAFC;AAGV,iBAAO,IAHG;AAIVgB,UAAAA,KAAK,EAAE,OAJG;AAKVC,UAAAA,QAAQ,EAAE;AALA,SAAZ;AAAA,kBAOG,KAAKN,KAAL,CAAWV,OAAX,GAAmB;AAPtB;AAAA;AAAA;AAAA;AAAA,cAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CA4BE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCF;AAqCD;;AAzEgD","sourcesContent":["import React from 'react'\r\n\r\nexport default class Weather extends React.Component {\r\n    constructor() {\r\n      super()\r\n      this.state = {\r\n        weather: null,\r\n        icon: null,\r\n        src: null\r\n      }\r\n    }\r\n  \r\n    getWeather = async (e) => {\r\n      const api_call = await fetch('http://api.openweathermap.org/data/2.5/weather?q=hangzhou&appid=7328419133fa6fd44868e923b84869d1')\r\n      const data = await api_call.json();\r\n      console.log(data);\r\n      const localWeather = data.weather[0].main;\r\n      const icondata = data.weather[0].icon\r\n      console.log(icondata)\r\n      let localTemp = data.main.temp - 273.15;\r\n      localTemp = Math.round(localTemp)\r\n      console.log(localWeather)\r\n      this.setState({\r\n        weather: localTemp,\r\n        icon: icondata,\r\n        src: 'http://openweathermap.org/img/wn/' + icondata +'.png',\r\n        localWeather: localWeather\r\n      }) \r\n      // console.log(this.state.src)\r\n      // console.log('图标',data.weather[0].icon)\r\n    }\r\n  \r\n    componentDidMount() {\r\n      this.getWeather()\r\n      this.timerID = setInterval(() => this.getWeather(), 150000);\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <div>\r\n          <div style={{\r\n            'position': 'absolute',\r\n            'right': '15%',\r\n            'top': '5%',\r\n          }}>\r\n            <img src = {this.state.src}/>\r\n          </div>\r\n          <div style={{\r\n            'position': 'absolute',\r\n            'right': '5%',\r\n            'top': '5%',\r\n            color: \"white\",\r\n            fontSize: \"2em\"\r\n          }}>\r\n            {this.state.localWeather}\r\n          </div>\r\n          <div style={{\r\n            'position': 'absolute',\r\n            'right': '5%',\r\n            'top': '7%',\r\n            color: \"white\",\r\n            fontSize: \"2em\"\r\n          }}>\r\n            {this.state.weather+\"°C\"}\r\n          </div>\r\n        </div>\r\n        // <div style={{\r\n        //     'position': 'absolute',\r\n        //     'right': '10%',\r\n        //     'top': '5%',\r\n        //   }}>\r\n        //   <img src = {this.state.src}/>\r\n        //   <div>{this.state.weather+\"°C\"}</div>\r\n        // </div>\r\n      )\r\n    }\r\n  \r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}