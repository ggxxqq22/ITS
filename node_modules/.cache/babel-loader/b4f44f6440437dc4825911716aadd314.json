{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\n\n\nimport * as React from 'react'; // Files\n\nimport { STATE_CHANGE_TYPES, KEY_STRINGS } from './constants.js';\nimport { scrollItemIntoView } from './utils.js'; // Types\n\nvar MenuStatefulContainer = /*#__PURE__*/function (_React$Component) {\n  _inherits(MenuStatefulContainer, _React$Component);\n\n  function MenuStatefulContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MenuStatefulContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MenuStatefulContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _objectSpread({}, _this.constructor.defaultProps.initialState, {}, _this.props.initialState));\n\n    _defineProperty(_assertThisInitialized(_this), \"rootRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"refList\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      switch (event.key) {\n        case KEY_STRINGS.ArrowUp:\n        case KEY_STRINGS.ArrowDown:\n        case KEY_STRINGS.ArrowLeft:\n        case KEY_STRINGS.ArrowRight:\n        case KEY_STRINGS.Home:\n        case KEY_STRINGS.End:\n          _this.handleArrowKey(event);\n\n          break;\n\n        case KEY_STRINGS.Enter:\n          if (event.keyCode === 229) {\n            // ref.\n            // https://github.com/JedWatson/react-select/blob/e12b42b0e7598ec4a96a1a6480e0b2b4c7dc03e3/packages/react-select/src/Select.js#L1209\n            break;\n          }\n\n          _this.handleEnterKey(event);\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleArrowKey\", function (event) {\n      var rootRef = _this.props.rootRef ? _this.props.rootRef : _this.rootRef;\n      var prevIndex = _this.state.highlightedIndex;\n      var nextIndex = prevIndex;\n\n      if (event.key === KEY_STRINGS.ArrowUp) {\n        event.preventDefault();\n        nextIndex = Math.max(0, prevIndex - 1);\n\n        _this.internalSetState(STATE_CHANGE_TYPES.moveUp, {\n          highlightedIndex: nextIndex\n        });\n      } else if (event.key === KEY_STRINGS.ArrowDown) {\n        event.preventDefault();\n        nextIndex = Math.min(prevIndex + 1, _this.getItems().length - 1);\n\n        _this.internalSetState(STATE_CHANGE_TYPES.moveDown, {\n          highlightedIndex: nextIndex\n        });\n      } else if (event.key === KEY_STRINGS.Home) {\n        event.preventDefault();\n        nextIndex = 0;\n\n        _this.internalSetState(STATE_CHANGE_TYPES.moveUp, {\n          highlightedIndex: nextIndex\n        });\n      } else if (event.key === KEY_STRINGS.End) {\n        event.preventDefault();\n        nextIndex = _this.getItems().length - 1;\n\n        _this.internalSetState(STATE_CHANGE_TYPES.moveDown, {\n          highlightedIndex: nextIndex\n        });\n      } else if (event.key === KEY_STRINGS.ArrowLeft) {\n        if (_this.props.getParentMenu) {\n          var parent = _this.props.getParentMenu(rootRef);\n\n          if (parent && parent.current) {\n            parent.current.focus();\n          }\n        }\n      } else if (event.key === KEY_STRINGS.ArrowRight) {\n        if (_this.props.getChildMenu) {\n          var child = _this.props.getChildMenu(rootRef);\n\n          if (child && child.current) {\n            child.current.focus();\n          }\n        }\n      }\n\n      if (_this.refList[nextIndex]) {\n        scrollItemIntoView(_this.refList[nextIndex].current, // $FlowFixMe\n        rootRef.current, nextIndex === 0, nextIndex === _this.getItems().length - 1);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEnterKey\", function (event) {\n      var onItemSelect = _this.props.onItemSelect;\n      var highlightedIndex = _this.state.highlightedIndex;\n\n      var items = _this.getItems();\n\n      if (items[highlightedIndex] && onItemSelect && !items[highlightedIndex].disabled) {\n        onItemSelect({\n          item: items[highlightedIndex],\n          event: event\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemClick\", function (activedescendantId, index, item, event) {\n      if (_this.props.onItemSelect && !item.disabled) {\n        _this.props.onItemSelect({\n          item: item,\n          event: event\n        });\n\n        _this.internalSetState(STATE_CHANGE_TYPES.click, {\n          highlightedIndex: index,\n          activedescendantId: activedescendantId\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseEnter\", function (activedescendantId, index) {\n      _this.internalSetState(STATE_CHANGE_TYPES.mouseEnter, {\n        highlightedIndex: index,\n        activedescendantId: activedescendantId\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getRequiredItemProps\", function (item, index) {\n      var itemRef = _this.refList[index];\n\n      if (!itemRef) {\n        itemRef = React.createRef();\n        _this.refList[index] = itemRef;\n      }\n\n      var requiredItemProps = _this.props.getRequiredItemProps(item, index);\n\n      var activedescendantId = requiredItemProps.id || null;\n\n      if (_this.state.highlightedIndex === index && _this.state.activedescendantId !== activedescendantId) {\n        _this.setState({\n          activedescendantId: activedescendantId\n        });\n      }\n\n      return _objectSpread({\n        disabled: !!item.disabled,\n        ref: itemRef,\n        isFocused: _this.state.isFocused,\n        isHighlighted: _this.state.highlightedIndex === index,\n        // binds so that in-line functions can be avoided. this is to ensure\n        // referential equality when option-list compares props in memoized compoent\n        onClick: _this.handleItemClick.bind(_assertThisInitialized(_this), activedescendantId, index, item),\n        onMouseEnter: _this.handleMouseEnter.bind(_assertThisInitialized(_this), activedescendantId, index),\n        resetMenu: _this.resetMenu\n      }, _this.state.highlightedIndex === index ? {\n        id: activedescendantId\n      } : {}, {}, requiredItemProps);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusMenu\", function (event) {\n      var rootRef = _this.props.rootRef ? _this.props.rootRef : _this.rootRef;\n\n      if (_this.state.isFocused) {\n        return;\n      } // $FlowFixMe\n\n\n      if (rootRef.current && rootRef.current.contains(event.target)) {\n        if (_this.state.highlightedIndex < 0) {\n          _this.internalSetState(STATE_CHANGE_TYPES.focus, {\n            isFocused: true,\n            highlightedIndex: 0\n          });\n        } else {\n          _this.internalSetState(STATE_CHANGE_TYPES.focus, {\n            isFocused: true\n          });\n        }\n\n        rootRef.current.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unfocusMenu\", function () {\n      _this.internalSetState(STATE_CHANGE_TYPES.focus, {\n        isFocused: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetMenu\", function () {\n      _this.internalSetState(STATE_CHANGE_TYPES.reset, {\n        isFocused: false,\n        highlightedIndex: -1,\n        activedescendantId: null\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(MenuStatefulContainer, [{\n    key: \"getItems\",\n    value: function getItems() {\n      var _this2 = this;\n\n      if (Array.isArray(this.props.items)) {\n        return this.props.items;\n      }\n\n      var optgroups = Object.keys(this.props.items);\n      return optgroups.reduce(function (output, optgroup) {\n        // $FlowFixMe already checked above that items is grouped shape\n        return output.concat(_this2.props.items[optgroup]);\n      }, []);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var rootRef = this.props.rootRef ? this.props.rootRef : this.rootRef;\n\n      if (typeof document !== 'undefined') {\n        if (rootRef.current\n        /** This condition added to satisfy Flow */\n        && this.state.highlightedIndex > -1 && this.refList[this.state.highlightedIndex]) {\n          scrollItemIntoView(this.refList[this.state.highlightedIndex].current, rootRef.current, this.state.highlightedIndex === 0, this.state.highlightedIndex === this.getItems().length - 1, 'center');\n        }\n\n        if (this.state.isFocused) {\n          document.addEventListener('keydown', this.onKeyDown);\n        }\n      }\n\n      this.props.addMenuToNesting && this.props.addMenuToNesting(rootRef);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var rootRef = this.props.rootRef ? this.props.rootRef : this.rootRef;\n\n      if (typeof document !== 'undefined') {\n        document.removeEventListener('keydown', this.onKeyDown);\n      }\n\n      this.props.removeMenuFromNesting && this.props.removeMenuFromNesting(rootRef);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      if (typeof document !== 'undefined') {\n        if (!prevState.isFocused && this.state.isFocused) {\n          document.addEventListener('keydown', this.onKeyDown);\n        } else if (prevState.isFocused && !this.state.isFocused) {\n          document.removeEventListener('keydown', this.onKeyDown);\n        }\n      }\n    } // One array to hold all of list item refs\n\n  }, {\n    key: \"internalSetState\",\n    // Internal set state function that will also invoke stateReducer\n    value: function internalSetState(changeType, changes) {\n      var stateReducer = this.props.stateReducer;\n      this.setState(stateReducer(changeType, changes, this.state));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // omit the stateful-container's props and don't pass it down\n      // to the children (stateless menu)\n      var _this$props = this.props,\n          initialState = _this$props.initialState,\n          stateReducer = _this$props.stateReducer,\n          children = _this$props.children,\n          onItemSelect = _this$props.onItemSelect,\n          addMenuToNesting = _this$props.addMenuToNesting,\n          removeMenuFromNesting = _this$props.removeMenuFromNesting,\n          getParentMenu = _this$props.getParentMenu,\n          getChildMenu = _this$props.getChildMenu,\n          restProps = _objectWithoutProperties(_this$props, [\"initialState\", \"stateReducer\", \"children\", \"onItemSelect\", \"addMenuToNesting\", \"removeMenuFromNesting\", \"getParentMenu\", \"getChildMenu\"]);\n\n      return this.props.children(_objectSpread({}, restProps, {\n        rootRef: this.props.rootRef ? this.props.rootRef : this.rootRef,\n        activedescendantId: this.state.activedescendantId,\n        getRequiredItemProps: this.getRequiredItemProps,\n        highlightedIndex: this.state.highlightedIndex,\n        isFocused: this.state.isFocused,\n        focusMenu: this.focusMenu,\n        unfocusMenu: this.unfocusMenu\n      }));\n    }\n  }]);\n\n  return MenuStatefulContainer;\n}(React.Component);\n\n_defineProperty(MenuStatefulContainer, \"defaultProps\", {\n  // keeping it in defaultProps to satisfy Flow\n  initialState: {\n    // We start the index at -1 to indicate that no highlighting exists initially\n    highlightedIndex: -1,\n    isFocused: false,\n    activedescendantId: null\n  },\n  stateReducer: function (changeType, changes) {\n    return changes;\n  },\n  onItemSelect: function onItemSelect() {},\n  getRequiredItemProps: function getRequiredItemProps() {\n    return {};\n  },\n  children: function children() {\n    return null;\n  },\n  // from nested-menus context\n  addMenuToNesting: function addMenuToNesting() {},\n  removeMenuFromNesting: function removeMenuFromNesting() {},\n  getParentMenu: function getParentMenu() {},\n  getChildMenu: function getChildMenu() {}\n});\n\nexport { MenuStatefulContainer as default };","map":{"version":3,"sources":["/home/zhiguangda/ITS/deckgl/node_modules/baseui/esm/menu/stateful-container.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","call","sourceKeys","keys","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","React","STATE_CHANGE_TYPES","KEY_STRINGS","scrollItemIntoView","MenuStatefulContainer","_React$Component","_getPrototypeOf2","_this","_len","args","Array","_key","concat","defaultProps","initialState","createRef","event","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","handleArrowKey","Enter","keyCode","handleEnterKey","rootRef","prevIndex","state","highlightedIndex","nextIndex","preventDefault","Math","max","internalSetState","moveUp","min","getItems","moveDown","getParentMenu","parent","current","focus","getChildMenu","child","refList","onItemSelect","items","disabled","item","activedescendantId","index","click","mouseEnter","itemRef","requiredItemProps","getRequiredItemProps","id","setState","ref","isFocused","isHighlighted","onClick","handleItemClick","bind","onMouseEnter","handleMouseEnter","resetMenu","contains","reset","_this2","isArray","optgroups","reduce","output","optgroup","componentDidMount","document","addEventListener","onKeyDown","addMenuToNesting","componentWillUnmount","removeEventListener","removeMenuFromNesting","componentDidUpdate","_","prevState","changeType","changes","stateReducer","render","_this$props","children","restProps","focusMenu","unfocusMenu","Component","default"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE;;AAA2B,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;AAAEH,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAO,OAAOA,GAAd;AAAoB,KAAtD;AAAyD,GAApI,MAA0I;AAAED,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAOA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;AAA+H,KAAjK;AAAoK;;AAAC,SAAOD,OAAO,CAACC,GAAD,CAAd;AAAsB;;AAE1X,SAASK,wBAAT,CAAkCC,MAAlC,EAA0CC,QAA1C,EAAoD;AAAE,MAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;;AAAW,MAAIE,MAAM,GAAGC,6BAA6B,CAACH,MAAD,EAASC,QAAT,CAA1C;;AAA8D,MAAIG,GAAJ,EAASC,CAAT;;AAAY,MAAIC,MAAM,CAACC,qBAAX,EAAkC;AAAE,QAAIC,gBAAgB,GAAGF,MAAM,CAACC,qBAAP,CAA6BP,MAA7B,CAAvB;;AAA6D,SAAKK,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGG,gBAAgB,CAACC,MAAjC,EAAyCJ,CAAC,EAA1C,EAA8C;AAAED,MAAAA,GAAG,GAAGI,gBAAgB,CAACH,CAAD,CAAtB;AAA2B,UAAIJ,QAAQ,CAACS,OAAT,CAAiBN,GAAjB,KAAyB,CAA7B,EAAgC;AAAU,UAAI,CAACE,MAAM,CAACR,SAAP,CAAiBa,oBAAjB,CAAsCC,IAAtC,CAA2CZ,MAA3C,EAAmDI,GAAnD,CAAL,EAA8D;AAAUF,MAAAA,MAAM,CAACE,GAAD,CAAN,GAAcJ,MAAM,CAACI,GAAD,CAApB;AAA4B;AAAE;;AAAC,SAAOF,MAAP;AAAgB;;AAE5e,SAASC,6BAAT,CAAuCH,MAAvC,EAA+CC,QAA/C,EAAyD;AAAE,MAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIE,MAAM,GAAG,EAAb;AAAiB,MAAIW,UAAU,GAAGP,MAAM,CAACQ,IAAP,CAAYd,MAAZ,CAAjB;AAAsC,MAAII,GAAJ,EAASC,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGQ,UAAU,CAACJ,MAA3B,EAAmCJ,CAAC,EAApC,EAAwC;AAAED,IAAAA,GAAG,GAAGS,UAAU,CAACR,CAAD,CAAhB;AAAqB,QAAIJ,QAAQ,CAACS,OAAT,CAAiBN,GAAjB,KAAyB,CAA7B,EAAgC;AAAUF,IAAAA,MAAM,CAACE,GAAD,CAAN,GAAcJ,MAAM,CAACI,GAAD,CAApB;AAA4B;;AAAC,SAAOF,MAAP;AAAgB;;AAEnT,SAASa,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIH,IAAI,GAAGR,MAAM,CAACQ,IAAP,CAAYE,MAAZ,CAAX;;AAAgC,MAAIV,MAAM,CAACC,qBAAX,EAAkC;AAAE,QAAIW,OAAO,GAAGZ,MAAM,CAACC,qBAAP,CAA6BS,MAA7B,CAAd;AAAoD,QAAIC,cAAJ,EAAoBC,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,aAAOd,MAAM,CAACe,wBAAP,CAAgCL,MAAhC,EAAwCI,GAAxC,EAA6CE,UAApD;AAAiE,KAAjG,CAAV;AAA8GR,IAAAA,IAAI,CAACS,IAAL,CAAUC,KAAV,CAAgBV,IAAhB,EAAsBI,OAAtB;AAAiC;;AAAC,SAAOJ,IAAP;AAAc;;AAErV,SAASW,aAAT,CAAuBvB,MAAvB,EAA+B;AAAE,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqB,SAAS,CAACjB,MAA9B,EAAsCJ,CAAC,EAAvC,EAA2C;AAAE,QAAIL,MAAM,GAAG0B,SAAS,CAACrB,CAAD,CAAT,IAAgB,IAAhB,GAAuBqB,SAAS,CAACrB,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAEU,MAAAA,OAAO,CAACT,MAAM,CAACN,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8B2B,OAA9B,CAAsC,UAAUvB,GAAV,EAAe;AAAEwB,QAAAA,eAAe,CAAC1B,MAAD,EAASE,GAAT,EAAcJ,MAAM,CAACI,GAAD,CAApB,CAAf;AAA4C,OAAnG;AAAuG,KAApH,MAA0H,IAAIE,MAAM,CAACuB,yBAAX,EAAsC;AAAEvB,MAAAA,MAAM,CAACwB,gBAAP,CAAwB5B,MAAxB,EAAgCI,MAAM,CAACuB,yBAAP,CAAiC7B,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAEe,MAAAA,OAAO,CAACT,MAAM,CAACN,MAAD,CAAP,CAAP,CAAwB2B,OAAxB,CAAgC,UAAUvB,GAAV,EAAe;AAAEE,QAAAA,MAAM,CAACyB,cAAP,CAAsB7B,MAAtB,EAA8BE,GAA9B,EAAmCE,MAAM,CAACe,wBAAP,CAAgCrB,MAAhC,EAAwCI,GAAxC,CAAnC;AAAmF,OAApI;AAAwI;AAAE;;AAAC,SAAOF,MAAP;AAAgB;;AAEthB,SAAS8B,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,iBAAT,CAA2BlC,MAA3B,EAAmCmC,KAAnC,EAA0C;AAAE,OAAK,IAAIhC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgC,KAAK,CAAC5B,MAA1B,EAAkCJ,CAAC,EAAnC,EAAuC;AAAE,QAAIiC,UAAU,GAAGD,KAAK,CAAChC,CAAD,CAAtB;AAA2BiC,IAAAA,UAAU,CAAChB,UAAX,GAAwBgB,UAAU,CAAChB,UAAX,IAAyB,KAAjD;AAAwDgB,IAAAA,UAAU,CAACC,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWD,UAAf,EAA2BA,UAAU,CAACE,QAAX,GAAsB,IAAtB;AAA4BlC,IAAAA,MAAM,CAACyB,cAAP,CAAsB7B,MAAtB,EAA8BoC,UAAU,CAAClC,GAAzC,EAA8CkC,UAA9C;AAA4D;AAAE;;AAE7T,SAASG,YAAT,CAAsBP,WAAtB,EAAmCQ,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBN,iBAAiB,CAACF,WAAW,CAACpC,SAAb,EAAwB4C,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBP,iBAAiB,CAACF,WAAD,EAAcS,WAAd,CAAjB;AAA6C,SAAOT,WAAP;AAAqB;;AAEvN,SAASU,0BAAT,CAAoCC,IAApC,EAA0CjC,IAA1C,EAAgD;AAAE,MAAIA,IAAI,KAAKnB,OAAO,CAACmB,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;AAAE,WAAOA,IAAP;AAAc;;AAAC,SAAOkC,sBAAsB,CAACD,IAAD,CAA7B;AAAsC;;AAEjL,SAASE,eAAT,CAAyBC,CAAzB,EAA4B;AAAED,EAAAA,eAAe,GAAGzC,MAAM,CAAC2C,cAAP,GAAwB3C,MAAM,CAAC4C,cAA/B,GAAgD,SAASH,eAAT,CAAyBC,CAAzB,EAA4B;AAAE,WAAOA,CAAC,CAACG,SAAF,IAAe7C,MAAM,CAAC4C,cAAP,CAAsBF,CAAtB,CAAtB;AAAiD,GAAjJ;AAAmJ,SAAOD,eAAe,CAACC,CAAD,CAAtB;AAA4B;;AAE7M,SAASF,sBAAT,CAAgCD,IAAhC,EAAsC;AAAE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,UAAM,IAAIO,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOP,IAAP;AAAc;;AAEtK,SAASQ,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIpB,SAAJ,CAAc,oDAAd,CAAN;AAA4E;;AAACmB,EAAAA,QAAQ,CAACxD,SAAT,GAAqBQ,MAAM,CAACkD,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACzD,SAAvC,EAAkD;AAAED,IAAAA,WAAW,EAAE;AAAE4D,MAAAA,KAAK,EAAEH,QAAT;AAAmBd,MAAAA,QAAQ,EAAE,IAA7B;AAAmCD,MAAAA,YAAY,EAAE;AAAjD;AAAf,GAAlD,CAArB;AAAkJ,MAAIgB,UAAJ,EAAgBG,eAAe,CAACJ,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEjY,SAASG,eAAT,CAAyBV,CAAzB,EAA4BW,CAA5B,EAA+B;AAAED,EAAAA,eAAe,GAAGpD,MAAM,CAAC2C,cAAP,IAAyB,SAASS,eAAT,CAAyBV,CAAzB,EAA4BW,CAA5B,EAA+B;AAAEX,IAAAA,CAAC,CAACG,SAAF,GAAcQ,CAAd;AAAiB,WAAOX,CAAP;AAAW,GAAxG;;AAA0G,SAAOU,eAAe,CAACV,CAAD,EAAIW,CAAJ,CAAtB;AAA+B;;AAE1K,SAAS/B,eAAT,CAAyBlC,GAAzB,EAA8BU,GAA9B,EAAmCqD,KAAnC,EAA0C;AAAE,MAAIrD,GAAG,IAAIV,GAAX,EAAgB;AAAEY,IAAAA,MAAM,CAACyB,cAAP,CAAsBrC,GAAtB,EAA2BU,GAA3B,EAAgC;AAAEqD,MAAAA,KAAK,EAAEA,KAAT;AAAgBnC,MAAAA,UAAU,EAAE,IAA5B;AAAkCiB,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAE9C,IAAAA,GAAG,CAACU,GAAD,CAAH,GAAWqD,KAAX;AAAmB;;AAAC,SAAO/D,GAAP;AAAa;AAEjN;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO,KAAKkE,KAAZ,MAAuB,OAAvB,C,CAAgC;;AAEhC,SAASC,kBAAT,EAA6BC,WAA7B,QAAgD,gBAAhD;AACA,SAASC,kBAAT,QAAmC,YAAnC,C,CAAiD;;AAEjD,IAAIC,qBAAqB,GACzB,aACA,UAAUC,gBAAV,EAA4B;AAC1BZ,EAAAA,SAAS,CAACW,qBAAD,EAAwBC,gBAAxB,CAAT;;AAEA,WAASD,qBAAT,GAAiC;AAC/B,QAAIE,gBAAJ;;AAEA,QAAIC,KAAJ;;AAEAnC,IAAAA,eAAe,CAAC,IAAD,EAAOgC,qBAAP,CAAf;;AAEA,SAAK,IAAII,IAAI,GAAG1C,SAAS,CAACjB,MAArB,EAA6B4D,IAAI,GAAG,IAAIC,KAAJ,CAAUF,IAAV,CAApC,EAAqDG,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGH,IAA3E,EAAiFG,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAa7C,SAAS,CAAC6C,IAAD,CAAtB;AACD;;AAEDJ,IAAAA,KAAK,GAAGvB,0BAA0B,CAAC,IAAD,EAAO,CAACsB,gBAAgB,GAAGnB,eAAe,CAACiB,qBAAD,CAAnC,EAA4DpD,IAA5D,CAAiEY,KAAjE,CAAuE0C,gBAAvE,EAAyF,CAAC,IAAD,EAAOM,MAAP,CAAcH,IAAd,CAAzF,CAAP,CAAlC;;AAEAzC,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,OAAhC,EAAyC1C,aAAa,CAAC,EAAD,EAAK0C,KAAK,CAACtE,WAAN,CAAkB4E,YAAlB,CAA+BC,YAApC,EAAkD,EAAlD,EAAsDP,KAAK,CAAC9B,KAAN,CAAYqC,YAAlE,CAAtD,CAAf;;AAEA9C,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,SAAhC,EAA2CP,KAAK,CAACe,SAAN,EAA3C,CAAf;;AAEA/C,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,SAAhC,EAA2C,EAA3C,CAAf;;AAEAvC,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,WAAhC,EAA6C,UAAUS,KAAV,EAAiB;AAC3E,cAAQA,KAAK,CAACxE,GAAd;AACE,aAAK0D,WAAW,CAACe,OAAjB;AACA,aAAKf,WAAW,CAACgB,SAAjB;AACA,aAAKhB,WAAW,CAACiB,SAAjB;AACA,aAAKjB,WAAW,CAACkB,UAAjB;AACA,aAAKlB,WAAW,CAACmB,IAAjB;AACA,aAAKnB,WAAW,CAACoB,GAAjB;AACEf,UAAAA,KAAK,CAACgB,cAAN,CAAqBP,KAArB;;AAEA;;AAEF,aAAKd,WAAW,CAACsB,KAAjB;AACE,cAAIR,KAAK,CAACS,OAAN,KAAkB,GAAtB,EAA2B;AACzB;AACA;AACA;AACD;;AAEDlB,UAAAA,KAAK,CAACmB,cAAN,CAAqBV,KAArB;;AAEA;AApBJ;AAsBD,KAvBc,CAAf;;AAyBAhD,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,gBAAhC,EAAkD,UAAUS,KAAV,EAAiB;AAChF,UAAIW,OAAO,GAAGpB,KAAK,CAAC9B,KAAN,CAAYkD,OAAZ,GAAsBpB,KAAK,CAAC9B,KAAN,CAAYkD,OAAlC,GAA4CpB,KAAK,CAACoB,OAAhE;AACA,UAAIC,SAAS,GAAGrB,KAAK,CAACsB,KAAN,CAAYC,gBAA5B;AACA,UAAIC,SAAS,GAAGH,SAAhB;;AAEA,UAAIZ,KAAK,CAACxE,GAAN,KAAc0D,WAAW,CAACe,OAA9B,EAAuC;AACrCD,QAAAA,KAAK,CAACgB,cAAN;AACAD,QAAAA,SAAS,GAAGE,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYN,SAAS,GAAG,CAAxB,CAAZ;;AAEArB,QAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAACmC,MAA1C,EAAkD;AAChDN,UAAAA,gBAAgB,EAAEC;AAD8B,SAAlD;AAGD,OAPD,MAOO,IAAIf,KAAK,CAACxE,GAAN,KAAc0D,WAAW,CAACgB,SAA9B,EAAyC;AAC9CF,QAAAA,KAAK,CAACgB,cAAN;AACAD,QAAAA,SAAS,GAAGE,IAAI,CAACI,GAAL,CAAST,SAAS,GAAG,CAArB,EAAwBrB,KAAK,CAAC+B,QAAN,GAAiBzF,MAAjB,GAA0B,CAAlD,CAAZ;;AAEA0D,QAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAACsC,QAA1C,EAAoD;AAClDT,UAAAA,gBAAgB,EAAEC;AADgC,SAApD;AAGD,OAPM,MAOA,IAAIf,KAAK,CAACxE,GAAN,KAAc0D,WAAW,CAACmB,IAA9B,EAAoC;AACzCL,QAAAA,KAAK,CAACgB,cAAN;AACAD,QAAAA,SAAS,GAAG,CAAZ;;AAEAxB,QAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAACmC,MAA1C,EAAkD;AAChDN,UAAAA,gBAAgB,EAAEC;AAD8B,SAAlD;AAGD,OAPM,MAOA,IAAIf,KAAK,CAACxE,GAAN,KAAc0D,WAAW,CAACoB,GAA9B,EAAmC;AACxCN,QAAAA,KAAK,CAACgB,cAAN;AACAD,QAAAA,SAAS,GAAGxB,KAAK,CAAC+B,QAAN,GAAiBzF,MAAjB,GAA0B,CAAtC;;AAEA0D,QAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAACsC,QAA1C,EAAoD;AAClDT,UAAAA,gBAAgB,EAAEC;AADgC,SAApD;AAGD,OAPM,MAOA,IAAIf,KAAK,CAACxE,GAAN,KAAc0D,WAAW,CAACiB,SAA9B,EAAyC;AAC9C,YAAIZ,KAAK,CAAC9B,KAAN,CAAY+D,aAAhB,EAA+B;AAC7B,cAAIC,MAAM,GAAGlC,KAAK,CAAC9B,KAAN,CAAY+D,aAAZ,CAA0Bb,OAA1B,CAAb;;AAEA,cAAIc,MAAM,IAAIA,MAAM,CAACC,OAArB,EAA8B;AAC5BD,YAAAA,MAAM,CAACC,OAAP,CAAeC,KAAf;AACD;AACF;AACF,OARM,MAQA,IAAI3B,KAAK,CAACxE,GAAN,KAAc0D,WAAW,CAACkB,UAA9B,EAA0C;AAC/C,YAAIb,KAAK,CAAC9B,KAAN,CAAYmE,YAAhB,EAA8B;AAC5B,cAAIC,KAAK,GAAGtC,KAAK,CAAC9B,KAAN,CAAYmE,YAAZ,CAAyBjB,OAAzB,CAAZ;;AAEA,cAAIkB,KAAK,IAAIA,KAAK,CAACH,OAAnB,EAA4B;AAC1BG,YAAAA,KAAK,CAACH,OAAN,CAAcC,KAAd;AACD;AACF;AACF;;AAED,UAAIpC,KAAK,CAACuC,OAAN,CAAcf,SAAd,CAAJ,EAA8B;AAC5B5B,QAAAA,kBAAkB,CAACI,KAAK,CAACuC,OAAN,CAAcf,SAAd,EAAyBW,OAA1B,EAAmC;AACrDf,QAAAA,OAAO,CAACe,OADU,EACDX,SAAS,KAAK,CADb,EACgBA,SAAS,KAAKxB,KAAK,CAAC+B,QAAN,GAAiBzF,MAAjB,GAA0B,CADxD,CAAlB;AAED;AACF,KAvDc,CAAf;;AAyDAmB,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,gBAAhC,EAAkD,UAAUS,KAAV,EAAiB;AAChF,UAAI+B,YAAY,GAAGxC,KAAK,CAAC9B,KAAN,CAAYsE,YAA/B;AACA,UAAIjB,gBAAgB,GAAGvB,KAAK,CAACsB,KAAN,CAAYC,gBAAnC;;AAEA,UAAIkB,KAAK,GAAGzC,KAAK,CAAC+B,QAAN,EAAZ;;AAEA,UAAIU,KAAK,CAAClB,gBAAD,CAAL,IAA2BiB,YAA3B,IAA2C,CAACC,KAAK,CAAClB,gBAAD,CAAL,CAAwBmB,QAAxE,EAAkF;AAChFF,QAAAA,YAAY,CAAC;AACXG,UAAAA,IAAI,EAAEF,KAAK,CAAClB,gBAAD,CADA;AAEXd,UAAAA,KAAK,EAAEA;AAFI,SAAD,CAAZ;AAID;AACF,KAZc,CAAf;;AAcAhD,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,iBAAhC,EAAmD,UAAU4C,kBAAV,EAA8BC,KAA9B,EAAqCF,IAArC,EAA2ClC,KAA3C,EAAkD;AAClH,UAAIT,KAAK,CAAC9B,KAAN,CAAYsE,YAAZ,IAA4B,CAACG,IAAI,CAACD,QAAtC,EAAgD;AAC9C1C,QAAAA,KAAK,CAAC9B,KAAN,CAAYsE,YAAZ,CAAyB;AACvBG,UAAAA,IAAI,EAAEA,IADiB;AAEvBlC,UAAAA,KAAK,EAAEA;AAFgB,SAAzB;;AAKAT,QAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAACoD,KAA1C,EAAiD;AAC/CvB,UAAAA,gBAAgB,EAAEsB,KAD6B;AAE/CD,UAAAA,kBAAkB,EAAEA;AAF2B,SAAjD;AAID;AACF,KAZc,CAAf;;AAcAnF,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,kBAAhC,EAAoD,UAAU4C,kBAAV,EAA8BC,KAA9B,EAAqC;AACtG7C,MAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAACqD,UAA1C,EAAsD;AACpDxB,QAAAA,gBAAgB,EAAEsB,KADkC;AAEpDD,QAAAA,kBAAkB,EAAEA;AAFgC,OAAtD;AAID,KALc,CAAf;;AAOAnF,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,sBAAhC,EAAwD,UAAU2C,IAAV,EAAgBE,KAAhB,EAAuB;AAC5F,UAAIG,OAAO,GAAGhD,KAAK,CAACuC,OAAN,CAAcM,KAAd,CAAd;;AAEA,UAAI,CAACG,OAAL,EAAc;AACZA,QAAAA,OAAO,GAAGvD,KAAK,CAACe,SAAN,EAAV;AACAR,QAAAA,KAAK,CAACuC,OAAN,CAAcM,KAAd,IAAuBG,OAAvB;AACD;;AAED,UAAIC,iBAAiB,GAAGjD,KAAK,CAAC9B,KAAN,CAAYgF,oBAAZ,CAAiCP,IAAjC,EAAuCE,KAAvC,CAAxB;;AAEA,UAAID,kBAAkB,GAAGK,iBAAiB,CAACE,EAAlB,IAAwB,IAAjD;;AAEA,UAAInD,KAAK,CAACsB,KAAN,CAAYC,gBAAZ,KAAiCsB,KAAjC,IAA0C7C,KAAK,CAACsB,KAAN,CAAYsB,kBAAZ,KAAmCA,kBAAjF,EAAqG;AACnG5C,QAAAA,KAAK,CAACoD,QAAN,CAAe;AACbR,UAAAA,kBAAkB,EAAEA;AADP,SAAf;AAGD;;AAED,aAAOtF,aAAa,CAAC;AACnBoF,QAAAA,QAAQ,EAAE,CAAC,CAACC,IAAI,CAACD,QADE;AAEnBW,QAAAA,GAAG,EAAEL,OAFc;AAGnBM,QAAAA,SAAS,EAAEtD,KAAK,CAACsB,KAAN,CAAYgC,SAHJ;AAInBC,QAAAA,aAAa,EAAEvD,KAAK,CAACsB,KAAN,CAAYC,gBAAZ,KAAiCsB,KAJ7B;AAKnB;AACA;AACAW,QAAAA,OAAO,EAAExD,KAAK,CAACyD,eAAN,CAAsBC,IAAtB,CAA2B/E,sBAAsB,CAACqB,KAAD,CAAjD,EAA0D4C,kBAA1D,EAA8EC,KAA9E,EAAqFF,IAArF,CAPU;AAQnBgB,QAAAA,YAAY,EAAE3D,KAAK,CAAC4D,gBAAN,CAAuBF,IAAvB,CAA4B/E,sBAAsB,CAACqB,KAAD,CAAlD,EAA2D4C,kBAA3D,EAA+EC,KAA/E,CARK;AASnBgB,QAAAA,SAAS,EAAE7D,KAAK,CAAC6D;AATE,OAAD,EAUjB7D,KAAK,CAACsB,KAAN,CAAYC,gBAAZ,KAAiCsB,KAAjC,GAAyC;AAC1CM,QAAAA,EAAE,EAAEP;AADsC,OAAzC,GAEC,EAZgB,EAYZ,EAZY,EAYRK,iBAZQ,CAApB;AAaD,KA/Bc,CAAf;;AAiCAxF,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,WAAhC,EAA6C,UAAUS,KAAV,EAAiB;AAC3E,UAAIW,OAAO,GAAGpB,KAAK,CAAC9B,KAAN,CAAYkD,OAAZ,GAAsBpB,KAAK,CAAC9B,KAAN,CAAYkD,OAAlC,GAA4CpB,KAAK,CAACoB,OAAhE;;AAEA,UAAIpB,KAAK,CAACsB,KAAN,CAAYgC,SAAhB,EAA2B;AACzB;AACD,OAL0E,CAKzE;;;AAGF,UAAIlC,OAAO,CAACe,OAAR,IAAmBf,OAAO,CAACe,OAAR,CAAgB2B,QAAhB,CAAyBrD,KAAK,CAAC1E,MAA/B,CAAvB,EAA+D;AAC7D,YAAIiE,KAAK,CAACsB,KAAN,CAAYC,gBAAZ,GAA+B,CAAnC,EAAsC;AACpCvB,UAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAAC0C,KAA1C,EAAiD;AAC/CkB,YAAAA,SAAS,EAAE,IADoC;AAE/C/B,YAAAA,gBAAgB,EAAE;AAF6B,WAAjD;AAID,SALD,MAKO;AACLvB,UAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAAC0C,KAA1C,EAAiD;AAC/CkB,YAAAA,SAAS,EAAE;AADoC,WAAjD;AAGD;;AAEDlC,QAAAA,OAAO,CAACe,OAAR,CAAgBC,KAAhB;AACD;AACF,KAtBc,CAAf;;AAwBA3E,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,aAAhC,EAA+C,YAAY;AACxEA,MAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAAC0C,KAA1C,EAAiD;AAC/CkB,QAAAA,SAAS,EAAE;AADoC,OAAjD;AAGD,KAJc,CAAf;;AAMA7F,IAAAA,eAAe,CAACkB,sBAAsB,CAACqB,KAAD,CAAvB,EAAgC,WAAhC,EAA6C,YAAY;AACtEA,MAAAA,KAAK,CAAC4B,gBAAN,CAAuBlC,kBAAkB,CAACqE,KAA1C,EAAiD;AAC/CT,QAAAA,SAAS,EAAE,KADoC;AAE/C/B,QAAAA,gBAAgB,EAAE,CAAC,CAF4B;AAG/CqB,QAAAA,kBAAkB,EAAE;AAH2B,OAAjD;AAKD,KANc,CAAf;;AAQA,WAAO5C,KAAP;AACD;;AAED1B,EAAAA,YAAY,CAACuB,qBAAD,EAAwB,CAAC;AACnC5D,IAAAA,GAAG,EAAE,UAD8B;AAEnCqD,IAAAA,KAAK,EAAE,SAASyC,QAAT,GAAoB;AACzB,UAAIiC,MAAM,GAAG,IAAb;;AAEA,UAAI7D,KAAK,CAAC8D,OAAN,CAAc,KAAK/F,KAAL,CAAWuE,KAAzB,CAAJ,EAAqC;AACnC,eAAO,KAAKvE,KAAL,CAAWuE,KAAlB;AACD;;AAED,UAAIyB,SAAS,GAAG/H,MAAM,CAACQ,IAAP,CAAY,KAAKuB,KAAL,CAAWuE,KAAvB,CAAhB;AACA,aAAOyB,SAAS,CAACC,MAAV,CAAiB,UAAUC,MAAV,EAAkBC,QAAlB,EAA4B;AAClD;AACA,eAAOD,MAAM,CAAC/D,MAAP,CAAc2D,MAAM,CAAC9F,KAAP,CAAauE,KAAb,CAAmB4B,QAAnB,CAAd,CAAP;AACD,OAHM,EAGJ,EAHI,CAAP;AAID;AAdkC,GAAD,EAejC;AACDpI,IAAAA,GAAG,EAAE,mBADJ;AAEDqD,IAAAA,KAAK,EAAE,SAASgF,iBAAT,GAA6B;AAClC,UAAIlD,OAAO,GAAG,KAAKlD,KAAL,CAAWkD,OAAX,GAAqB,KAAKlD,KAAL,CAAWkD,OAAhC,GAA0C,KAAKA,OAA7D;;AAEA,UAAI,OAAOmD,QAAP,KAAoB,WAAxB,EAAqC;AACnC,YAAInD,OAAO,CAACe;AACZ;AADI,WAED,KAAKb,KAAL,CAAWC,gBAAX,GAA8B,CAAC,CAF9B,IAEmC,KAAKgB,OAAL,CAAa,KAAKjB,KAAL,CAAWC,gBAAxB,CAFvC,EAEkF;AAChF3B,UAAAA,kBAAkB,CAAC,KAAK2C,OAAL,CAAa,KAAKjB,KAAL,CAAWC,gBAAxB,EAA0CY,OAA3C,EAAoDf,OAAO,CAACe,OAA5D,EAAqE,KAAKb,KAAL,CAAWC,gBAAX,KAAgC,CAArG,EAAwG,KAAKD,KAAL,CAAWC,gBAAX,KAAgC,KAAKQ,QAAL,GAAgBzF,MAAhB,GAAyB,CAAjK,EAAoK,QAApK,CAAlB;AACD;;AAED,YAAI,KAAKgF,KAAL,CAAWgC,SAAf,EAA0B;AACxBiB,UAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC,KAAKC,SAA1C;AACD;AACF;;AAED,WAAKvG,KAAL,CAAWwG,gBAAX,IAA+B,KAAKxG,KAAL,CAAWwG,gBAAX,CAA4BtD,OAA5B,CAA/B;AACD;AAlBA,GAfiC,EAkCjC;AACDnF,IAAAA,GAAG,EAAE,sBADJ;AAEDqD,IAAAA,KAAK,EAAE,SAASqF,oBAAT,GAAgC;AACrC,UAAIvD,OAAO,GAAG,KAAKlD,KAAL,CAAWkD,OAAX,GAAqB,KAAKlD,KAAL,CAAWkD,OAAhC,GAA0C,KAAKA,OAA7D;;AAEA,UAAI,OAAOmD,QAAP,KAAoB,WAAxB,EAAqC;AACnCA,QAAAA,QAAQ,CAACK,mBAAT,CAA6B,SAA7B,EAAwC,KAAKH,SAA7C;AACD;;AAED,WAAKvG,KAAL,CAAW2G,qBAAX,IAAoC,KAAK3G,KAAL,CAAW2G,qBAAX,CAAiCzD,OAAjC,CAApC;AACD;AAVA,GAlCiC,EA6CjC;AACDnF,IAAAA,GAAG,EAAE,oBADJ;AAEDqD,IAAAA,KAAK,EAAE,SAASwF,kBAAT,CAA4BC,CAA5B,EAA+BC,SAA/B,EAA0C;AAC/C,UAAI,OAAOT,QAAP,KAAoB,WAAxB,EAAqC;AACnC,YAAI,CAACS,SAAS,CAAC1B,SAAX,IAAwB,KAAKhC,KAAL,CAAWgC,SAAvC,EAAkD;AAChDiB,UAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC,KAAKC,SAA1C;AACD,SAFD,MAEO,IAAIO,SAAS,CAAC1B,SAAV,IAAuB,CAAC,KAAKhC,KAAL,CAAWgC,SAAvC,EAAkD;AACvDiB,UAAAA,QAAQ,CAACK,mBAAT,CAA6B,SAA7B,EAAwC,KAAKH,SAA7C;AACD;AACF;AACF,KAVA,CAUC;;AAVD,GA7CiC,EAyDjC;AACDxI,IAAAA,GAAG,EAAE,kBADJ;AAED;AACAqD,IAAAA,KAAK,EAAE,SAASsC,gBAAT,CAA0BqD,UAA1B,EAAsCC,OAAtC,EAA+C;AACpD,UAAIC,YAAY,GAAG,KAAKjH,KAAL,CAAWiH,YAA9B;AACA,WAAK/B,QAAL,CAAc+B,YAAY,CAACF,UAAD,EAAaC,OAAb,EAAsB,KAAK5D,KAA3B,CAA1B;AACD;AANA,GAzDiC,EAgEjC;AACDrF,IAAAA,GAAG,EAAE,QADJ;AAEDqD,IAAAA,KAAK,EAAE,SAAS8F,MAAT,GAAkB;AACvB;AACA;AACA,UAAIC,WAAW,GAAG,KAAKnH,KAAvB;AAAA,UACIqC,YAAY,GAAG8E,WAAW,CAAC9E,YAD/B;AAAA,UAEI4E,YAAY,GAAGE,WAAW,CAACF,YAF/B;AAAA,UAGIG,QAAQ,GAAGD,WAAW,CAACC,QAH3B;AAAA,UAII9C,YAAY,GAAG6C,WAAW,CAAC7C,YAJ/B;AAAA,UAKIkC,gBAAgB,GAAGW,WAAW,CAACX,gBALnC;AAAA,UAMIG,qBAAqB,GAAGQ,WAAW,CAACR,qBANxC;AAAA,UAOI5C,aAAa,GAAGoD,WAAW,CAACpD,aAPhC;AAAA,UAQII,YAAY,GAAGgD,WAAW,CAAChD,YAR/B;AAAA,UASIkD,SAAS,GAAG3J,wBAAwB,CAACyJ,WAAD,EAAc,CAAC,cAAD,EAAiB,cAAjB,EAAiC,UAAjC,EAA6C,cAA7C,EAA6D,kBAA7D,EAAiF,uBAAjF,EAA0G,eAA1G,EAA2H,cAA3H,CAAd,CATxC;;AAWA,aAAO,KAAKnH,KAAL,CAAWoH,QAAX,CAAoBhI,aAAa,CAAC,EAAD,EAAKiI,SAAL,EAAgB;AACtDnE,QAAAA,OAAO,EAAE,KAAKlD,KAAL,CAAWkD,OAAX,GAAqB,KAAKlD,KAAL,CAAWkD,OAAhC,GAA0C,KAAKA,OADF;AAEtDwB,QAAAA,kBAAkB,EAAE,KAAKtB,KAAL,CAAWsB,kBAFuB;AAGtDM,QAAAA,oBAAoB,EAAE,KAAKA,oBAH2B;AAItD3B,QAAAA,gBAAgB,EAAE,KAAKD,KAAL,CAAWC,gBAJyB;AAKtD+B,QAAAA,SAAS,EAAE,KAAKhC,KAAL,CAAWgC,SALgC;AAMtDkC,QAAAA,SAAS,EAAE,KAAKA,SANsC;AAOtDC,QAAAA,WAAW,EAAE,KAAKA;AAPoC,OAAhB,CAAjC,CAAP;AASD;AAzBA,GAhEiC,CAAxB,CAAZ;;AA4FA,SAAO5F,qBAAP;AACD,CAlTD,CAkTEJ,KAAK,CAACiG,SAlTR,CAFA;;AAsTAjI,eAAe,CAACoC,qBAAD,EAAwB,cAAxB,EAAwC;AACrD;AACAU,EAAAA,YAAY,EAAE;AACZ;AACAgB,IAAAA,gBAAgB,EAAE,CAAC,CAFP;AAGZ+B,IAAAA,SAAS,EAAE,KAHC;AAIZV,IAAAA,kBAAkB,EAAE;AAJR,GAFuC;AAQrDuC,EAAAA,YAAY,EAAE,UAAUF,UAAV,EAAsBC,OAAtB,EAA+B;AAC3C,WAAOA,OAAP;AACD,GAVoD;AAWrD1C,EAAAA,YAAY,EAAE,SAASA,YAAT,GAAwB,CAAE,CAXa;AAYrDU,EAAAA,oBAAoB,EAAE,SAASA,oBAAT,GAAgC;AACpD,WAAO,EAAP;AACD,GAdoD;AAerDoC,EAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB;AAC5B,WAAO,IAAP;AACD,GAjBoD;AAkBrD;AACAZ,EAAAA,gBAAgB,EAAE,SAASA,gBAAT,GAA4B,CAAE,CAnBK;AAoBrDG,EAAAA,qBAAqB,EAAE,SAASA,qBAAT,GAAiC,CAAE,CApBL;AAqBrD5C,EAAAA,aAAa,EAAE,SAASA,aAAT,GAAyB,CAAE,CArBW;AAsBrDI,EAAAA,YAAY,EAAE,SAASA,YAAT,GAAwB,CAAE;AAtBa,CAAxC,CAAf;;AAyBA,SAASxC,qBAAqB,IAAI8F,OAAlC","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport * as React from 'react'; // Files\n\nimport { STATE_CHANGE_TYPES, KEY_STRINGS } from './constants.js';\nimport { scrollItemIntoView } from './utils.js'; // Types\n\nvar MenuStatefulContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MenuStatefulContainer, _React$Component);\n\n  function MenuStatefulContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MenuStatefulContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MenuStatefulContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _objectSpread({}, _this.constructor.defaultProps.initialState, {}, _this.props.initialState));\n\n    _defineProperty(_assertThisInitialized(_this), \"rootRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"refList\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      switch (event.key) {\n        case KEY_STRINGS.ArrowUp:\n        case KEY_STRINGS.ArrowDown:\n        case KEY_STRINGS.ArrowLeft:\n        case KEY_STRINGS.ArrowRight:\n        case KEY_STRINGS.Home:\n        case KEY_STRINGS.End:\n          _this.handleArrowKey(event);\n\n          break;\n\n        case KEY_STRINGS.Enter:\n          if (event.keyCode === 229) {\n            // ref.\n            // https://github.com/JedWatson/react-select/blob/e12b42b0e7598ec4a96a1a6480e0b2b4c7dc03e3/packages/react-select/src/Select.js#L1209\n            break;\n          }\n\n          _this.handleEnterKey(event);\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleArrowKey\", function (event) {\n      var rootRef = _this.props.rootRef ? _this.props.rootRef : _this.rootRef;\n      var prevIndex = _this.state.highlightedIndex;\n      var nextIndex = prevIndex;\n\n      if (event.key === KEY_STRINGS.ArrowUp) {\n        event.preventDefault();\n        nextIndex = Math.max(0, prevIndex - 1);\n\n        _this.internalSetState(STATE_CHANGE_TYPES.moveUp, {\n          highlightedIndex: nextIndex\n        });\n      } else if (event.key === KEY_STRINGS.ArrowDown) {\n        event.preventDefault();\n        nextIndex = Math.min(prevIndex + 1, _this.getItems().length - 1);\n\n        _this.internalSetState(STATE_CHANGE_TYPES.moveDown, {\n          highlightedIndex: nextIndex\n        });\n      } else if (event.key === KEY_STRINGS.Home) {\n        event.preventDefault();\n        nextIndex = 0;\n\n        _this.internalSetState(STATE_CHANGE_TYPES.moveUp, {\n          highlightedIndex: nextIndex\n        });\n      } else if (event.key === KEY_STRINGS.End) {\n        event.preventDefault();\n        nextIndex = _this.getItems().length - 1;\n\n        _this.internalSetState(STATE_CHANGE_TYPES.moveDown, {\n          highlightedIndex: nextIndex\n        });\n      } else if (event.key === KEY_STRINGS.ArrowLeft) {\n        if (_this.props.getParentMenu) {\n          var parent = _this.props.getParentMenu(rootRef);\n\n          if (parent && parent.current) {\n            parent.current.focus();\n          }\n        }\n      } else if (event.key === KEY_STRINGS.ArrowRight) {\n        if (_this.props.getChildMenu) {\n          var child = _this.props.getChildMenu(rootRef);\n\n          if (child && child.current) {\n            child.current.focus();\n          }\n        }\n      }\n\n      if (_this.refList[nextIndex]) {\n        scrollItemIntoView(_this.refList[nextIndex].current, // $FlowFixMe\n        rootRef.current, nextIndex === 0, nextIndex === _this.getItems().length - 1);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEnterKey\", function (event) {\n      var onItemSelect = _this.props.onItemSelect;\n      var highlightedIndex = _this.state.highlightedIndex;\n\n      var items = _this.getItems();\n\n      if (items[highlightedIndex] && onItemSelect && !items[highlightedIndex].disabled) {\n        onItemSelect({\n          item: items[highlightedIndex],\n          event: event\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemClick\", function (activedescendantId, index, item, event) {\n      if (_this.props.onItemSelect && !item.disabled) {\n        _this.props.onItemSelect({\n          item: item,\n          event: event\n        });\n\n        _this.internalSetState(STATE_CHANGE_TYPES.click, {\n          highlightedIndex: index,\n          activedescendantId: activedescendantId\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseEnter\", function (activedescendantId, index) {\n      _this.internalSetState(STATE_CHANGE_TYPES.mouseEnter, {\n        highlightedIndex: index,\n        activedescendantId: activedescendantId\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getRequiredItemProps\", function (item, index) {\n      var itemRef = _this.refList[index];\n\n      if (!itemRef) {\n        itemRef = React.createRef();\n        _this.refList[index] = itemRef;\n      }\n\n      var requiredItemProps = _this.props.getRequiredItemProps(item, index);\n\n      var activedescendantId = requiredItemProps.id || null;\n\n      if (_this.state.highlightedIndex === index && _this.state.activedescendantId !== activedescendantId) {\n        _this.setState({\n          activedescendantId: activedescendantId\n        });\n      }\n\n      return _objectSpread({\n        disabled: !!item.disabled,\n        ref: itemRef,\n        isFocused: _this.state.isFocused,\n        isHighlighted: _this.state.highlightedIndex === index,\n        // binds so that in-line functions can be avoided. this is to ensure\n        // referential equality when option-list compares props in memoized compoent\n        onClick: _this.handleItemClick.bind(_assertThisInitialized(_this), activedescendantId, index, item),\n        onMouseEnter: _this.handleMouseEnter.bind(_assertThisInitialized(_this), activedescendantId, index),\n        resetMenu: _this.resetMenu\n      }, _this.state.highlightedIndex === index ? {\n        id: activedescendantId\n      } : {}, {}, requiredItemProps);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusMenu\", function (event) {\n      var rootRef = _this.props.rootRef ? _this.props.rootRef : _this.rootRef;\n\n      if (_this.state.isFocused) {\n        return;\n      } // $FlowFixMe\n\n\n      if (rootRef.current && rootRef.current.contains(event.target)) {\n        if (_this.state.highlightedIndex < 0) {\n          _this.internalSetState(STATE_CHANGE_TYPES.focus, {\n            isFocused: true,\n            highlightedIndex: 0\n          });\n        } else {\n          _this.internalSetState(STATE_CHANGE_TYPES.focus, {\n            isFocused: true\n          });\n        }\n\n        rootRef.current.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unfocusMenu\", function () {\n      _this.internalSetState(STATE_CHANGE_TYPES.focus, {\n        isFocused: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetMenu\", function () {\n      _this.internalSetState(STATE_CHANGE_TYPES.reset, {\n        isFocused: false,\n        highlightedIndex: -1,\n        activedescendantId: null\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(MenuStatefulContainer, [{\n    key: \"getItems\",\n    value: function getItems() {\n      var _this2 = this;\n\n      if (Array.isArray(this.props.items)) {\n        return this.props.items;\n      }\n\n      var optgroups = Object.keys(this.props.items);\n      return optgroups.reduce(function (output, optgroup) {\n        // $FlowFixMe already checked above that items is grouped shape\n        return output.concat(_this2.props.items[optgroup]);\n      }, []);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var rootRef = this.props.rootRef ? this.props.rootRef : this.rootRef;\n\n      if (typeof document !== 'undefined') {\n        if (rootRef.current\n        /** This condition added to satisfy Flow */\n        && this.state.highlightedIndex > -1 && this.refList[this.state.highlightedIndex]) {\n          scrollItemIntoView(this.refList[this.state.highlightedIndex].current, rootRef.current, this.state.highlightedIndex === 0, this.state.highlightedIndex === this.getItems().length - 1, 'center');\n        }\n\n        if (this.state.isFocused) {\n          document.addEventListener('keydown', this.onKeyDown);\n        }\n      }\n\n      this.props.addMenuToNesting && this.props.addMenuToNesting(rootRef);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var rootRef = this.props.rootRef ? this.props.rootRef : this.rootRef;\n\n      if (typeof document !== 'undefined') {\n        document.removeEventListener('keydown', this.onKeyDown);\n      }\n\n      this.props.removeMenuFromNesting && this.props.removeMenuFromNesting(rootRef);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      if (typeof document !== 'undefined') {\n        if (!prevState.isFocused && this.state.isFocused) {\n          document.addEventListener('keydown', this.onKeyDown);\n        } else if (prevState.isFocused && !this.state.isFocused) {\n          document.removeEventListener('keydown', this.onKeyDown);\n        }\n      }\n    } // One array to hold all of list item refs\n\n  }, {\n    key: \"internalSetState\",\n    // Internal set state function that will also invoke stateReducer\n    value: function internalSetState(changeType, changes) {\n      var stateReducer = this.props.stateReducer;\n      this.setState(stateReducer(changeType, changes, this.state));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // omit the stateful-container's props and don't pass it down\n      // to the children (stateless menu)\n      var _this$props = this.props,\n          initialState = _this$props.initialState,\n          stateReducer = _this$props.stateReducer,\n          children = _this$props.children,\n          onItemSelect = _this$props.onItemSelect,\n          addMenuToNesting = _this$props.addMenuToNesting,\n          removeMenuFromNesting = _this$props.removeMenuFromNesting,\n          getParentMenu = _this$props.getParentMenu,\n          getChildMenu = _this$props.getChildMenu,\n          restProps = _objectWithoutProperties(_this$props, [\"initialState\", \"stateReducer\", \"children\", \"onItemSelect\", \"addMenuToNesting\", \"removeMenuFromNesting\", \"getParentMenu\", \"getChildMenu\"]);\n\n      return this.props.children(_objectSpread({}, restProps, {\n        rootRef: this.props.rootRef ? this.props.rootRef : this.rootRef,\n        activedescendantId: this.state.activedescendantId,\n        getRequiredItemProps: this.getRequiredItemProps,\n        highlightedIndex: this.state.highlightedIndex,\n        isFocused: this.state.isFocused,\n        focusMenu: this.focusMenu,\n        unfocusMenu: this.unfocusMenu\n      }));\n    }\n  }]);\n\n  return MenuStatefulContainer;\n}(React.Component);\n\n_defineProperty(MenuStatefulContainer, \"defaultProps\", {\n  // keeping it in defaultProps to satisfy Flow\n  initialState: {\n    // We start the index at -1 to indicate that no highlighting exists initially\n    highlightedIndex: -1,\n    isFocused: false,\n    activedescendantId: null\n  },\n  stateReducer: function (changeType, changes) {\n    return changes;\n  },\n  onItemSelect: function onItemSelect() {},\n  getRequiredItemProps: function getRequiredItemProps() {\n    return {};\n  },\n  children: function children() {\n    return null;\n  },\n  // from nested-menus context\n  addMenuToNesting: function addMenuToNesting() {},\n  removeMenuFromNesting: function removeMenuFromNesting() {},\n  getParentMenu: function getParentMenu() {},\n  getChildMenu: function getChildMenu() {}\n});\n\nexport { MenuStatefulContainer as default };"]},"metadata":{},"sourceType":"module"}