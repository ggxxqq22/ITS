{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/zhiguangda/ITS/deckgl/src/components/magicmirror/Weather.js\";\nimport React from 'react';\nexport default class Weather extends React.Component {\n  constructor() {\n    super();\n\n    this.getWeather = async e => {\n      const api_call = await fetch('http://api.openweathermap.org/data/2.5/weather?q=ningbo&appid=7328419133fa6fd44868e923b84869d1');\n      const data = await api_call.json();\n      console.log(data);\n      const localWeather = data.weather[0].main;\n      const icondata = data.weather[0].icon;\n      let localTemp = data.main.temp - 273.15;\n      localTemp = Math.round(localTemp); //   console.log(localTemp)\n\n      this.setState({\n        weather: localTemp,\n        icon: icondata,\n        src: 'http://openweathermap.org/img/wn/' + this.state.icon + '.png'\n      }); // console.log(this.state.src)\n\n      console.log('图标', data.weather[0].icon);\n    };\n\n    this.state = {\n      weather: null,\n      icon: null,\n      src: null\n    };\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.getWeather(), 1000);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        'position': 'absolute',\n        'right': '10%',\n        'top': '5%',\n        'line-height': '1.5em',\n        'font-size': '2em'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: this.state.src\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.weather\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/zhiguangda/ITS/deckgl/src/components/magicmirror/Weather.js"],"names":["React","Weather","Component","constructor","getWeather","e","api_call","fetch","data","json","console","log","localWeather","weather","main","icondata","icon","localTemp","temp","Math","round","setState","src","state","componentDidMount","timerID","setInterval","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,OAAN,SAAsBD,KAAK,CAACE,SAA5B,CAAsC;AACjDC,EAAAA,WAAW,GAAG;AACZ;;AADY,SASdC,UATc,GASD,MAAOC,CAAP,IAAa;AACxB,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gGAAD,CAA5B;AACA,YAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,YAAMI,YAAY,GAAGJ,IAAI,CAACK,OAAL,CAAa,CAAb,EAAgBC,IAArC;AACA,YAAMC,QAAQ,GAAGP,IAAI,CAACK,OAAL,CAAa,CAAb,EAAgBG,IAAjC;AACA,UAAIC,SAAS,GAAGT,IAAI,CAACM,IAAL,CAAUI,IAAV,GAAiB,MAAjC;AACAD,MAAAA,SAAS,GAAGE,IAAI,CAACC,KAAL,CAAWH,SAAX,CAAZ,CAPwB,CAQ1B;;AACE,WAAKI,QAAL,CAAc;AACZR,QAAAA,OAAO,EAAEI,SADG;AAEZD,QAAAA,IAAI,EAAED,QAFM;AAGZO,QAAAA,GAAG,EAAE,sCAAsC,KAAKC,KAAL,CAAWP,IAAjD,GAAuD;AAHhD,OAAd,EATwB,CAcxB;;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBH,IAAI,CAACK,OAAL,CAAa,CAAb,EAAgBG,IAAjC;AACD,KAzBa;;AAEZ,SAAKO,KAAL,GAAa;AACXV,MAAAA,OAAO,EAAE,IADE;AAEXG,MAAAA,IAAI,EAAE,IAFK;AAGXM,MAAAA,GAAG,EAAE;AAHM,KAAb;AAKD;;AAoBDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,OAAL,GAAeC,WAAW,CAAC,MAAM,KAAKtB,UAAL,EAAP,EAA0B,IAA1B,CAA1B;AACD;;AAEDuB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,KAAK,EAAE;AACR,oBAAY,UADJ;AAER,iBAAS,KAFD;AAGR,eAAO,IAHC;AAIR,uBAAe,OAJP;AAKR,qBAAa;AALL,OAAZ;AAAA,8BAOE;AAAK,QAAA,GAAG,EAAI,KAAKJ,KAAL,CAAWD;AAAvB;AAAA;AAAA;AAAA;AAAA,cAPF,eAQE;AAAA,kBAAM,KAAKC,KAAL,CAAWV;AAAjB;AAAA;AAAA;AAAA;AAAA,cARF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAYD;;AA7CgD","sourcesContent":["import React from 'react'\r\n\r\nexport default class Weather extends React.Component {\r\n    constructor() {\r\n      super()\r\n      this.state = {\r\n        weather: null,\r\n        icon: null,\r\n        src: null\r\n      }\r\n    }\r\n  \r\n    getWeather = async (e) => {\r\n      const api_call = await fetch('http://api.openweathermap.org/data/2.5/weather?q=ningbo&appid=7328419133fa6fd44868e923b84869d1')\r\n      const data = await api_call.json();\r\n      console.log(data);\r\n      const localWeather = data.weather[0].main;\r\n      const icondata = data.weather[0].icon\r\n      let localTemp = data.main.temp - 273.15;\r\n      localTemp = Math.round(localTemp)\r\n    //   console.log(localTemp)\r\n      this.setState({\r\n        weather: localTemp,\r\n        icon: icondata,\r\n        src: 'http://openweathermap.org/img/wn/' + this.state.icon +'.png'\r\n      }) \r\n      // console.log(this.state.src)\r\n      console.log('图标',data.weather[0].icon)\r\n    }\r\n  \r\n    componentDidMount() {\r\n      this.timerID = setInterval(() => this.getWeather(), 1000);\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <div style={{\r\n            'position': 'absolute',\r\n            'right': '10%',\r\n            'top': '5%',\r\n            'line-height': '1.5em',\r\n            'font-size': '2em',\r\n          }}>\r\n          <img src = {this.state.src}/>\r\n          <div>{this.state.weather}</div>\r\n        </div>\r\n      )\r\n    }\r\n  \r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}