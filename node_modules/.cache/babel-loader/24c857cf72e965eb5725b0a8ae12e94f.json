{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\n\n/* eslint-disable react/no-find-dom-node */\n\n\nimport * as React from 'react';\nimport FocusLock from 'react-focus-lock';\nimport { getOverride, getOverrideProps } from '../helpers/overrides.js';\nimport getBuiId from '../utils/get-bui-id.js';\nimport { ACCESSIBILITY_TYPE, PLACEMENT, TRIGGER_TYPE, ANIMATE_OUT_TIME, ANIMATE_IN_TIME } from './constants.js';\nimport { Layer, TetherBehavior } from '../layer/index.js';\nimport { Arrow as StyledArrow, Body as StyledBody, Inner as StyledInner, Hidden } from './styled-components.js';\nimport { fromPopperPlacement } from './utils.js';\nimport defaultProps from './default-props.js';\n\nvar Popover = /*#__PURE__*/function (_React$Component) {\n  _inherits(Popover, _React$Component);\n\n  function Popover() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Popover);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Popover)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"animateInTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOutTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOutCompleteTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnterTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeaveTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"generatedId\", '');\n\n    _defineProperty(_assertThisInitialized(_this), \"anchorRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"popperRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"arrowRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _this.getDefaultState(_this.props));\n\n    _defineProperty(_assertThisInitialized(_this), \"animateIn\", function () {\n      if (_this.props.isOpen) {\n        _this.setState({\n          isAnimating: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOut\", function () {\n      if (!_this.props.isOpen) {\n        _this.setState({\n          isAnimating: true\n        }); // Remove the popover from the DOM after animation finishes\n\n\n        _this.animateOutCompleteTimer = setTimeout(function () {\n          _this.setState({\n            isAnimating: false,\n            // Reset to ideal placement specified in props\n            placement: _this.props.placement\n          });\n        }, _this.props.animateOutTime || ANIMATE_OUT_TIME);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnchorClick\", function (e) {\n      if (_this.props.onClick) {\n        _this.props.onClick(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnchorMouseEnter\", function (e) {\n      // First clear any existing close timers, this ensures that the user can\n      // move their mouse from the popover back to anchor without it hiding\n      if (_this.onMouseLeaveTimer) {\n        clearTimeout(_this.onMouseLeaveTimer);\n      }\n\n      _this.triggerOnMouseEnterWithDelay(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnchorMouseLeave\", function (e) {\n      // Clear any existing open timer, otherwise popover could be stuck open\n      if (_this.onMouseEnterTimer) {\n        clearTimeout(_this.onMouseEnterTimer);\n      }\n\n      _this.triggerOnMouseLeaveWithDelay(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopoverMouseEnter\", function () {\n      if (_this.onMouseLeaveTimer) {\n        clearTimeout(_this.onMouseLeaveTimer);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopoverMouseLeave\", function (e) {\n      _this.triggerOnMouseLeaveWithDelay(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopperUpdate\", function (normalizedOffsets, data) {\n      var placement = fromPopperPlacement(data.placement) || PLACEMENT.top;\n\n      _this.setState({\n        arrowOffset: normalizedOffsets.arrow,\n        popoverOffset: normalizedOffsets.popper,\n        placement: placement\n      }); // Now that element has been positioned, we can animate it in\n\n\n      _this.animateInTimer = setTimeout(_this.animateIn, ANIMATE_IN_TIME);\n      return data;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"triggerOnMouseLeave\", function (e) {\n      if (_this.props.onMouseLeave) {\n        _this.props.onMouseLeave(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"triggerOnMouseEnter\", function (e) {\n      if (_this.props.onMouseEnter) {\n        _this.props.onMouseEnter(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDocumentClick\", function (evt) {\n      var target = evt.target;\n      var popper = _this.popperRef.current;\n      var anchor = _this.anchorRef.current; // Ignore document click if it came from popover or anchor\n\n      if (!popper || popper === target || popper.contains(target)) {\n        return;\n      }\n\n      if (!anchor || anchor === target || anchor.contains(target)) {\n        return;\n      }\n\n      if (_this.props.onClickOutside) {\n        _this.props.onClickOutside(evt);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Popover, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.generatedId = getBuiId();\n      this.setState({\n        isMounted: true\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this.init(prevProps, prevState);\n\n      if (this.props.autoFocus && this.props.focusLock && !this.state.autoFocusAfterPositioning && this.popperRef.current !== null && this.popperRef.current.getBoundingClientRect().top > 0) {\n        this.setState({\n          autoFocusAfterPositioning: true\n        });\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init(prevProps, prevState) {\n      if (this.props.isOpen !== prevProps.isOpen || this.state.isMounted !== prevState.isMounted || this.state.isLayerMounted !== prevState.isLayerMounted) {\n        // Transition from closed to open.\n        if (this.props.isOpen && this.state.isLayerMounted) {\n          // Clear any existing timers (like previous animateOutCompleteTimer)\n          this.clearTimers();\n          return;\n        } // Transition from open to closed.\n\n\n        if (!this.props.isOpen && prevProps.isOpen) {\n          this.animateOutTimer = setTimeout(this.animateOut, 20);\n          return;\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearTimers();\n    }\n  }, {\n    key: \"getDefaultState\",\n    value: function getDefaultState(props) {\n      return {\n        isAnimating: false,\n        arrowOffset: {\n          left: 0,\n          top: 0\n        },\n        popoverOffset: {\n          left: 0,\n          top: 0\n        },\n        placement: props.placement,\n        isMounted: false,\n        isLayerMounted: false,\n        autoFocusAfterPositioning: false\n      };\n    }\n  }, {\n    key: \"clearTimers\",\n    value: function clearTimers() {\n      [this.animateInTimer, this.animateOutTimer, this.animateOutCompleteTimer, this.onMouseEnterTimer, this.onMouseLeaveTimer].forEach(function (timerId) {\n        if (timerId) {\n          clearTimeout(timerId);\n        }\n      });\n    }\n  }, {\n    key: \"triggerOnMouseLeaveWithDelay\",\n    value: function triggerOnMouseLeaveWithDelay(e) {\n      var _this2 = this;\n\n      var onMouseLeaveDelay = this.props.onMouseLeaveDelay;\n\n      if (onMouseLeaveDelay) {\n        this.onMouseLeaveTimer = setTimeout(function () {\n          return _this2.triggerOnMouseLeave(e);\n        }, onMouseLeaveDelay);\n        return;\n      }\n\n      this.triggerOnMouseLeave(e);\n    }\n  }, {\n    key: \"triggerOnMouseEnterWithDelay\",\n    value: function triggerOnMouseEnterWithDelay(e) {\n      var _this3 = this;\n\n      var onMouseEnterDelay = this.props.onMouseEnterDelay;\n\n      if (onMouseEnterDelay) {\n        this.onMouseEnterTimer = setTimeout(function () {\n          return _this3.triggerOnMouseEnter(e);\n        }, onMouseEnterDelay);\n        return;\n      }\n\n      this.triggerOnMouseEnter(e);\n    }\n  }, {\n    key: \"isClickTrigger\",\n    value: function isClickTrigger() {\n      return this.props.triggerType === TRIGGER_TYPE.click;\n    }\n  }, {\n    key: \"isHoverTrigger\",\n    value: function isHoverTrigger() {\n      return this.props.triggerType === TRIGGER_TYPE.hover;\n    }\n  }, {\n    key: \"isAccessibilityTypeMenu\",\n    value: function isAccessibilityTypeMenu() {\n      return this.props.accessibilityType === ACCESSIBILITY_TYPE.menu;\n    }\n  }, {\n    key: \"isAccessibilityTypeTooltip\",\n    value: function isAccessibilityTypeTooltip() {\n      return this.props.accessibilityType === ACCESSIBILITY_TYPE.tooltip;\n    }\n  }, {\n    key: \"getAnchorIdAttr\",\n    value: function getAnchorIdAttr() {\n      var popoverId = this.getPopoverIdAttr();\n      return popoverId ? \"\".concat(popoverId, \"__anchor\") : null;\n    }\n  }, {\n    key: \"getPopoverIdAttr\",\n    value: function getPopoverIdAttr() {\n      return this.props.id || this.generatedId || null;\n    }\n  }, {\n    key: \"getAnchorProps\",\n    value: function getAnchorProps() {\n      var isOpen = this.props.isOpen;\n      var anchorProps = {\n        'aria-haspopup': 'true',\n        'aria-expanded': isOpen ? 'true' : 'false',\n        key: 'popover-anchor',\n        ref: this.anchorRef\n      };\n      var popoverId = this.getPopoverIdAttr();\n\n      if (this.isAccessibilityTypeMenu()) {\n        var relationAttr = this.isClickTrigger() ? 'aria-controls' : 'aria-owns';\n        anchorProps[relationAttr] = isOpen ? popoverId : null;\n      } else if (this.isAccessibilityTypeTooltip()) {\n        anchorProps.id = this.getAnchorIdAttr();\n        anchorProps['aria-describedby'] = isOpen ? popoverId : null;\n      }\n\n      if (this.isHoverTrigger()) {\n        anchorProps.onMouseEnter = this.onAnchorMouseEnter;\n        anchorProps.onMouseLeave = this.onAnchorMouseLeave; // Make it focusable too\n\n        anchorProps.onBlur = this.props.onBlur;\n        anchorProps.onFocus = this.props.onFocus;\n      } else {\n        anchorProps.onClick = this.onAnchorClick;\n      }\n\n      return anchorProps;\n    }\n  }, {\n    key: \"getPopoverBodyProps\",\n    value: function getPopoverBodyProps() {\n      var bodyProps = {};\n      var popoverId = this.getPopoverIdAttr();\n\n      if (this.isAccessibilityTypeMenu()) {\n        bodyProps.id = popoverId;\n      } else if (this.isAccessibilityTypeTooltip()) {\n        bodyProps.id = popoverId;\n        bodyProps.role = 'tooltip';\n      }\n\n      if (this.isHoverTrigger()) {\n        bodyProps.onMouseEnter = this.onPopoverMouseEnter;\n        bodyProps.onMouseLeave = this.onPopoverMouseLeave;\n      }\n\n      return bodyProps;\n    }\n  }, {\n    key: \"getSharedProps\",\n    value: function getSharedProps() {\n      var _this$props = this.props,\n          isOpen = _this$props.isOpen,\n          showArrow = _this$props.showArrow;\n      var _this$state = this.state,\n          isAnimating = _this$state.isAnimating,\n          arrowOffset = _this$state.arrowOffset,\n          popoverOffset = _this$state.popoverOffset,\n          placement = _this$state.placement;\n      return {\n        $showArrow: !!showArrow,\n        $arrowOffset: arrowOffset,\n        $popoverOffset: popoverOffset,\n        $placement: placement,\n        $isAnimating: isAnimating,\n        $isOpen: isOpen\n      };\n    }\n  }, {\n    key: \"getAnchorFromChildren\",\n    value: function getAnchorFromChildren() {\n      var children = this.props.children;\n      var childArray = React.Children.toArray(children);\n\n      if (childArray.length !== 1) {\n        // eslint-disable-next-line no-console\n        console.error(\"[baseui] Exactly 1 child must be passed to Popover/Tooltip, found \".concat(childArray.length, \" children\"));\n      }\n\n      return childArray[0];\n    }\n  }, {\n    key: \"renderAnchor\",\n    value: function renderAnchor() {\n      var anchor = this.getAnchorFromChildren();\n\n      if (!anchor) {\n        return null;\n      }\n\n      var isValidElement = React.isValidElement(anchor);\n      var anchorProps = this.getAnchorProps();\n\n      if (_typeof(anchor) === 'object' && isValidElement) {\n        return React.cloneElement(anchor, anchorProps);\n      }\n\n      return React.createElement(\"span\", anchorProps, anchor);\n    }\n  }, {\n    key: \"renderPopover\",\n    value: function renderPopover(renderedContent) {\n      var _this$props2 = this.props,\n          showArrow = _this$props2.showArrow,\n          _this$props2$override = _this$props2.overrides,\n          overrides = _this$props2$override === void 0 ? {} : _this$props2$override;\n      var ArrowOverride = overrides.Arrow,\n          BodyOverride = overrides.Body,\n          InnerOverride = overrides.Inner;\n      var Arrow = getOverride(ArrowOverride) || StyledArrow;\n      var Body = getOverride(BodyOverride) || StyledBody;\n      var Inner = getOverride(InnerOverride) || StyledInner;\n      var sharedProps = this.getSharedProps();\n      var bodyProps = this.getPopoverBodyProps();\n      return React.createElement(Body, _extends({\n        key: \"popover-body\",\n        ref: this.popperRef,\n        \"data-baseweb\": this.props['data-baseweb'] || 'popover'\n      }, bodyProps, sharedProps, getOverrideProps(BodyOverride)), showArrow ? React.createElement(Arrow, _extends({\n        key: \"popover-arrow\",\n        ref: this.arrowRef\n      }, sharedProps, getOverrideProps(ArrowOverride))) : null, React.createElement(Inner, _extends({}, sharedProps, getOverrideProps(InnerOverride)), renderedContent));\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var content = this.props.content;\n      return typeof content === 'function' ? content() : content;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var mountedAndOpen = this.state.isMounted && this.props.isOpen;\n      var rendered = [this.renderAnchor()];\n      var renderedContent = mountedAndOpen || this.props.renderAll ? this.renderContent() : null;\n      var defaultPopperOptions = {\n        modifiers: {\n          preventOverflow: {\n            enabled: !this.props.ignoreBoundary\n          }\n        }\n      }; // Only render popover on the browser (portals aren't supported server-side)\n\n      if (renderedContent) {\n        if (mountedAndOpen) {\n          rendered.push(React.createElement(Layer, {\n            key: \"new-layer\",\n            mountNode: this.props.mountNode,\n            onEscape: this.props.onEsc,\n            onDocumentClick: this.onDocumentClick,\n            onMount: function onMount() {\n              return _this4.setState({\n                isLayerMounted: true\n              });\n            },\n            onUnmount: function onUnmount() {\n              return _this4.setState({\n                isLayerMounted: false\n              });\n            }\n          }, React.createElement(TetherBehavior, {\n            anchorRef: this.anchorRef.current,\n            arrowRef: this.arrowRef.current,\n            popperRef: this.popperRef.current // Remove the `ignoreBoundary` prop in the next major version\n            // and have it replaced with the TetherBehavior props overrides\n            ,\n            popperOptions: _objectSpread({}, defaultPopperOptions, {}, this.props.popperOptions),\n            onPopperUpdate: this.onPopperUpdate,\n            placement: this.state.placement\n          }, React.createElement(FocusLock, {\n            disabled: !this.props.focusLock,\n            noFocusGuards: false // see popover-focus-loop.scenario.js for why hover cannot return focus\n            ,\n            returnFocus: this.props.returnFocus && !this.isHoverTrigger(),\n            autoFocus: this.state.autoFocusAfterPositioning // eslint-disable-line jsx-a11y/no-autofocus\n\n          }, this.renderPopover(renderedContent)))));\n        } else {\n          rendered.push(React.createElement(Hidden, {\n            key: \"hidden-layer\"\n          }, renderedContent));\n        }\n      }\n\n      return rendered;\n    }\n  }]);\n\n  return Popover;\n}(React.Component);\n\n_defineProperty(Popover, \"defaultProps\", defaultProps);\n\nexport default Popover;\n/* eslint-enable react/no-find-dom-node */","map":{"version":3,"sources":["/home/zhiguangda/ITS/deckgl/node_modules/baseui/esm/popover/popover.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_extends","assign","prototype","hasOwnProperty","call","_typeof","obj","Symbol","iterator","constructor","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","React","FocusLock","getOverride","getOverrideProps","getBuiId","ACCESSIBILITY_TYPE","PLACEMENT","TRIGGER_TYPE","ANIMATE_OUT_TIME","ANIMATE_IN_TIME","Layer","TetherBehavior","Arrow","StyledArrow","Body","StyledBody","Inner","StyledInner","Hidden","fromPopperPlacement","defaultProps","Popover","_React$Component","_getPrototypeOf2","_this","_len","args","Array","_key","concat","createRef","getDefaultState","isOpen","setState","isAnimating","animateOutCompleteTimer","setTimeout","placement","animateOutTime","e","onClick","onMouseLeaveTimer","clearTimeout","triggerOnMouseEnterWithDelay","onMouseEnterTimer","triggerOnMouseLeaveWithDelay","normalizedOffsets","data","top","arrowOffset","arrow","popoverOffset","popper","animateInTimer","animateIn","onMouseLeave","onMouseEnter","evt","popperRef","current","anchor","anchorRef","contains","onClickOutside","componentDidMount","generatedId","isMounted","componentDidUpdate","prevProps","prevState","init","autoFocus","focusLock","state","autoFocusAfterPositioning","getBoundingClientRect","isLayerMounted","clearTimers","animateOutTimer","animateOut","componentWillUnmount","left","timerId","_this2","onMouseLeaveDelay","triggerOnMouseLeave","_this3","onMouseEnterDelay","triggerOnMouseEnter","isClickTrigger","triggerType","click","isHoverTrigger","hover","isAccessibilityTypeMenu","accessibilityType","menu","isAccessibilityTypeTooltip","tooltip","getAnchorIdAttr","popoverId","getPopoverIdAttr","id","getAnchorProps","anchorProps","ref","relationAttr","onAnchorMouseEnter","onAnchorMouseLeave","onBlur","onFocus","onAnchorClick","getPopoverBodyProps","bodyProps","role","onPopoverMouseEnter","onPopoverMouseLeave","getSharedProps","_this$props","showArrow","_this$state","$showArrow","$arrowOffset","$popoverOffset","$placement","$isAnimating","$isOpen","getAnchorFromChildren","children","childArray","Children","toArray","console","error","renderAnchor","isValidElement","cloneElement","createElement","renderPopover","renderedContent","_this$props2","_this$props2$override","overrides","ArrowOverride","BodyOverride","InnerOverride","sharedProps","arrowRef","renderContent","content","render","_this4","mountedAndOpen","rendered","renderAll","defaultPopperOptions","modifiers","preventOverflow","enabled","ignoreBoundary","mountNode","onEscape","onEsc","onDocumentClick","onMount","onUnmount","popperOptions","onPopperUpdate","disabled","noFocusGuards","returnFocus","Component"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\n\n/* eslint-disable react/no-find-dom-node */\nimport * as React from 'react';\nimport FocusLock from 'react-focus-lock';\nimport { getOverride, getOverrideProps } from '../helpers/overrides.js';\nimport getBuiId from '../utils/get-bui-id.js';\nimport { ACCESSIBILITY_TYPE, PLACEMENT, TRIGGER_TYPE, ANIMATE_OUT_TIME, ANIMATE_IN_TIME } from './constants.js';\nimport { Layer, TetherBehavior } from '../layer/index.js';\nimport { Arrow as StyledArrow, Body as StyledBody, Inner as StyledInner, Hidden } from './styled-components.js';\nimport { fromPopperPlacement } from './utils.js';\nimport defaultProps from './default-props.js';\n\nvar Popover =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Popover, _React$Component);\n\n  function Popover() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Popover);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Popover)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"animateInTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOutTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOutCompleteTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnterTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeaveTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"generatedId\", '');\n\n    _defineProperty(_assertThisInitialized(_this), \"anchorRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"popperRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"arrowRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _this.getDefaultState(_this.props));\n\n    _defineProperty(_assertThisInitialized(_this), \"animateIn\", function () {\n      if (_this.props.isOpen) {\n        _this.setState({\n          isAnimating: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animateOut\", function () {\n      if (!_this.props.isOpen) {\n        _this.setState({\n          isAnimating: true\n        }); // Remove the popover from the DOM after animation finishes\n\n\n        _this.animateOutCompleteTimer = setTimeout(function () {\n          _this.setState({\n            isAnimating: false,\n            // Reset to ideal placement specified in props\n            placement: _this.props.placement\n          });\n        }, _this.props.animateOutTime || ANIMATE_OUT_TIME);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnchorClick\", function (e) {\n      if (_this.props.onClick) {\n        _this.props.onClick(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnchorMouseEnter\", function (e) {\n      // First clear any existing close timers, this ensures that the user can\n      // move their mouse from the popover back to anchor without it hiding\n      if (_this.onMouseLeaveTimer) {\n        clearTimeout(_this.onMouseLeaveTimer);\n      }\n\n      _this.triggerOnMouseEnterWithDelay(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnchorMouseLeave\", function (e) {\n      // Clear any existing open timer, otherwise popover could be stuck open\n      if (_this.onMouseEnterTimer) {\n        clearTimeout(_this.onMouseEnterTimer);\n      }\n\n      _this.triggerOnMouseLeaveWithDelay(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopoverMouseEnter\", function () {\n      if (_this.onMouseLeaveTimer) {\n        clearTimeout(_this.onMouseLeaveTimer);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopoverMouseLeave\", function (e) {\n      _this.triggerOnMouseLeaveWithDelay(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopperUpdate\", function (normalizedOffsets, data) {\n      var placement = fromPopperPlacement(data.placement) || PLACEMENT.top;\n\n      _this.setState({\n        arrowOffset: normalizedOffsets.arrow,\n        popoverOffset: normalizedOffsets.popper,\n        placement: placement\n      }); // Now that element has been positioned, we can animate it in\n\n\n      _this.animateInTimer = setTimeout(_this.animateIn, ANIMATE_IN_TIME);\n      return data;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"triggerOnMouseLeave\", function (e) {\n      if (_this.props.onMouseLeave) {\n        _this.props.onMouseLeave(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"triggerOnMouseEnter\", function (e) {\n      if (_this.props.onMouseEnter) {\n        _this.props.onMouseEnter(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDocumentClick\", function (evt) {\n      var target = evt.target;\n      var popper = _this.popperRef.current;\n      var anchor = _this.anchorRef.current; // Ignore document click if it came from popover or anchor\n\n      if (!popper || popper === target || popper.contains(target)) {\n        return;\n      }\n\n      if (!anchor || anchor === target || anchor.contains(target)) {\n        return;\n      }\n\n      if (_this.props.onClickOutside) {\n        _this.props.onClickOutside(evt);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Popover, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.generatedId = getBuiId();\n      this.setState({\n        isMounted: true\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this.init(prevProps, prevState);\n\n      if (this.props.autoFocus && this.props.focusLock && !this.state.autoFocusAfterPositioning && this.popperRef.current !== null && this.popperRef.current.getBoundingClientRect().top > 0) {\n        this.setState({\n          autoFocusAfterPositioning: true\n        });\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init(prevProps, prevState) {\n      if (this.props.isOpen !== prevProps.isOpen || this.state.isMounted !== prevState.isMounted || this.state.isLayerMounted !== prevState.isLayerMounted) {\n        // Transition from closed to open.\n        if (this.props.isOpen && this.state.isLayerMounted) {\n          // Clear any existing timers (like previous animateOutCompleteTimer)\n          this.clearTimers();\n          return;\n        } // Transition from open to closed.\n\n\n        if (!this.props.isOpen && prevProps.isOpen) {\n          this.animateOutTimer = setTimeout(this.animateOut, 20);\n          return;\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearTimers();\n    }\n  }, {\n    key: \"getDefaultState\",\n    value: function getDefaultState(props) {\n      return {\n        isAnimating: false,\n        arrowOffset: {\n          left: 0,\n          top: 0\n        },\n        popoverOffset: {\n          left: 0,\n          top: 0\n        },\n        placement: props.placement,\n        isMounted: false,\n        isLayerMounted: false,\n        autoFocusAfterPositioning: false\n      };\n    }\n  }, {\n    key: \"clearTimers\",\n    value: function clearTimers() {\n      [this.animateInTimer, this.animateOutTimer, this.animateOutCompleteTimer, this.onMouseEnterTimer, this.onMouseLeaveTimer].forEach(function (timerId) {\n        if (timerId) {\n          clearTimeout(timerId);\n        }\n      });\n    }\n  }, {\n    key: \"triggerOnMouseLeaveWithDelay\",\n    value: function triggerOnMouseLeaveWithDelay(e) {\n      var _this2 = this;\n\n      var onMouseLeaveDelay = this.props.onMouseLeaveDelay;\n\n      if (onMouseLeaveDelay) {\n        this.onMouseLeaveTimer = setTimeout(function () {\n          return _this2.triggerOnMouseLeave(e);\n        }, onMouseLeaveDelay);\n        return;\n      }\n\n      this.triggerOnMouseLeave(e);\n    }\n  }, {\n    key: \"triggerOnMouseEnterWithDelay\",\n    value: function triggerOnMouseEnterWithDelay(e) {\n      var _this3 = this;\n\n      var onMouseEnterDelay = this.props.onMouseEnterDelay;\n\n      if (onMouseEnterDelay) {\n        this.onMouseEnterTimer = setTimeout(function () {\n          return _this3.triggerOnMouseEnter(e);\n        }, onMouseEnterDelay);\n        return;\n      }\n\n      this.triggerOnMouseEnter(e);\n    }\n  }, {\n    key: \"isClickTrigger\",\n    value: function isClickTrigger() {\n      return this.props.triggerType === TRIGGER_TYPE.click;\n    }\n  }, {\n    key: \"isHoverTrigger\",\n    value: function isHoverTrigger() {\n      return this.props.triggerType === TRIGGER_TYPE.hover;\n    }\n  }, {\n    key: \"isAccessibilityTypeMenu\",\n    value: function isAccessibilityTypeMenu() {\n      return this.props.accessibilityType === ACCESSIBILITY_TYPE.menu;\n    }\n  }, {\n    key: \"isAccessibilityTypeTooltip\",\n    value: function isAccessibilityTypeTooltip() {\n      return this.props.accessibilityType === ACCESSIBILITY_TYPE.tooltip;\n    }\n  }, {\n    key: \"getAnchorIdAttr\",\n    value: function getAnchorIdAttr() {\n      var popoverId = this.getPopoverIdAttr();\n      return popoverId ? \"\".concat(popoverId, \"__anchor\") : null;\n    }\n  }, {\n    key: \"getPopoverIdAttr\",\n    value: function getPopoverIdAttr() {\n      return this.props.id || this.generatedId || null;\n    }\n  }, {\n    key: \"getAnchorProps\",\n    value: function getAnchorProps() {\n      var isOpen = this.props.isOpen;\n      var anchorProps = {\n        'aria-haspopup': 'true',\n        'aria-expanded': isOpen ? 'true' : 'false',\n        key: 'popover-anchor',\n        ref: this.anchorRef\n      };\n      var popoverId = this.getPopoverIdAttr();\n\n      if (this.isAccessibilityTypeMenu()) {\n        var relationAttr = this.isClickTrigger() ? 'aria-controls' : 'aria-owns';\n        anchorProps[relationAttr] = isOpen ? popoverId : null;\n      } else if (this.isAccessibilityTypeTooltip()) {\n        anchorProps.id = this.getAnchorIdAttr();\n        anchorProps['aria-describedby'] = isOpen ? popoverId : null;\n      }\n\n      if (this.isHoverTrigger()) {\n        anchorProps.onMouseEnter = this.onAnchorMouseEnter;\n        anchorProps.onMouseLeave = this.onAnchorMouseLeave; // Make it focusable too\n\n        anchorProps.onBlur = this.props.onBlur;\n        anchorProps.onFocus = this.props.onFocus;\n      } else {\n        anchorProps.onClick = this.onAnchorClick;\n      }\n\n      return anchorProps;\n    }\n  }, {\n    key: \"getPopoverBodyProps\",\n    value: function getPopoverBodyProps() {\n      var bodyProps = {};\n      var popoverId = this.getPopoverIdAttr();\n\n      if (this.isAccessibilityTypeMenu()) {\n        bodyProps.id = popoverId;\n      } else if (this.isAccessibilityTypeTooltip()) {\n        bodyProps.id = popoverId;\n        bodyProps.role = 'tooltip';\n      }\n\n      if (this.isHoverTrigger()) {\n        bodyProps.onMouseEnter = this.onPopoverMouseEnter;\n        bodyProps.onMouseLeave = this.onPopoverMouseLeave;\n      }\n\n      return bodyProps;\n    }\n  }, {\n    key: \"getSharedProps\",\n    value: function getSharedProps() {\n      var _this$props = this.props,\n          isOpen = _this$props.isOpen,\n          showArrow = _this$props.showArrow;\n      var _this$state = this.state,\n          isAnimating = _this$state.isAnimating,\n          arrowOffset = _this$state.arrowOffset,\n          popoverOffset = _this$state.popoverOffset,\n          placement = _this$state.placement;\n      return {\n        $showArrow: !!showArrow,\n        $arrowOffset: arrowOffset,\n        $popoverOffset: popoverOffset,\n        $placement: placement,\n        $isAnimating: isAnimating,\n        $isOpen: isOpen\n      };\n    }\n  }, {\n    key: \"getAnchorFromChildren\",\n    value: function getAnchorFromChildren() {\n      var children = this.props.children;\n      var childArray = React.Children.toArray(children);\n\n      if (childArray.length !== 1) {\n        // eslint-disable-next-line no-console\n        console.error(\"[baseui] Exactly 1 child must be passed to Popover/Tooltip, found \".concat(childArray.length, \" children\"));\n      }\n\n      return childArray[0];\n    }\n  }, {\n    key: \"renderAnchor\",\n    value: function renderAnchor() {\n      var anchor = this.getAnchorFromChildren();\n\n      if (!anchor) {\n        return null;\n      }\n\n      var isValidElement = React.isValidElement(anchor);\n      var anchorProps = this.getAnchorProps();\n\n      if (_typeof(anchor) === 'object' && isValidElement) {\n        return React.cloneElement(anchor, anchorProps);\n      }\n\n      return React.createElement(\"span\", anchorProps, anchor);\n    }\n  }, {\n    key: \"renderPopover\",\n    value: function renderPopover(renderedContent) {\n      var _this$props2 = this.props,\n          showArrow = _this$props2.showArrow,\n          _this$props2$override = _this$props2.overrides,\n          overrides = _this$props2$override === void 0 ? {} : _this$props2$override;\n      var ArrowOverride = overrides.Arrow,\n          BodyOverride = overrides.Body,\n          InnerOverride = overrides.Inner;\n      var Arrow = getOverride(ArrowOverride) || StyledArrow;\n      var Body = getOverride(BodyOverride) || StyledBody;\n      var Inner = getOverride(InnerOverride) || StyledInner;\n      var sharedProps = this.getSharedProps();\n      var bodyProps = this.getPopoverBodyProps();\n      return React.createElement(Body, _extends({\n        key: \"popover-body\",\n        ref: this.popperRef,\n        \"data-baseweb\": this.props['data-baseweb'] || 'popover'\n      }, bodyProps, sharedProps, getOverrideProps(BodyOverride)), showArrow ? React.createElement(Arrow, _extends({\n        key: \"popover-arrow\",\n        ref: this.arrowRef\n      }, sharedProps, getOverrideProps(ArrowOverride))) : null, React.createElement(Inner, _extends({}, sharedProps, getOverrideProps(InnerOverride)), renderedContent));\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var content = this.props.content;\n      return typeof content === 'function' ? content() : content;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var mountedAndOpen = this.state.isMounted && this.props.isOpen;\n      var rendered = [this.renderAnchor()];\n      var renderedContent = mountedAndOpen || this.props.renderAll ? this.renderContent() : null;\n      var defaultPopperOptions = {\n        modifiers: {\n          preventOverflow: {\n            enabled: !this.props.ignoreBoundary\n          }\n        }\n      }; // Only render popover on the browser (portals aren't supported server-side)\n\n      if (renderedContent) {\n        if (mountedAndOpen) {\n          rendered.push(React.createElement(Layer, {\n            key: \"new-layer\",\n            mountNode: this.props.mountNode,\n            onEscape: this.props.onEsc,\n            onDocumentClick: this.onDocumentClick,\n            onMount: function onMount() {\n              return _this4.setState({\n                isLayerMounted: true\n              });\n            },\n            onUnmount: function onUnmount() {\n              return _this4.setState({\n                isLayerMounted: false\n              });\n            }\n          }, React.createElement(TetherBehavior, {\n            anchorRef: this.anchorRef.current,\n            arrowRef: this.arrowRef.current,\n            popperRef: this.popperRef.current // Remove the `ignoreBoundary` prop in the next major version\n            // and have it replaced with the TetherBehavior props overrides\n            ,\n            popperOptions: _objectSpread({}, defaultPopperOptions, {}, this.props.popperOptions),\n            onPopperUpdate: this.onPopperUpdate,\n            placement: this.state.placement\n          }, React.createElement(FocusLock, {\n            disabled: !this.props.focusLock,\n            noFocusGuards: false // see popover-focus-loop.scenario.js for why hover cannot return focus\n            ,\n            returnFocus: this.props.returnFocus && !this.isHoverTrigger(),\n            autoFocus: this.state.autoFocusAfterPositioning // eslint-disable-line jsx-a11y/no-autofocus\n\n          }, this.renderPopover(renderedContent)))));\n        } else {\n          rendered.push(React.createElement(Hidden, {\n            key: \"hidden-layer\"\n          }, renderedContent));\n        }\n      }\n\n      return rendered;\n    }\n  }]);\n\n  return Popover;\n}(React.Component);\n\n_defineProperty(Popover, \"defaultProps\", defaultProps);\n\nexport default Popover;\n/* eslint-enable react/no-find-dom-node */"]},"metadata":{},"sourceType":"module"}