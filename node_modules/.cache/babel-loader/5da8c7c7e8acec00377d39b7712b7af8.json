{"ast":null,"code":"/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport * as React from 'react';\nimport { NestedMenuContext } from './nested-menus.js';\nimport { Popover } from '../popover/index.js';\nexport default function MaybeChildMenu(props) {\n  if (!props.getChildMenu) {\n    return props.children;\n  }\n\n  var ChildMenu = props.getChildMenu(props.item);\n\n  if (!ChildMenu) {\n    return props.children;\n  }\n\n  return React.createElement(NestedMenuContext.Consumer, null, function (ctx) {\n    return React.createElement(Popover, {\n      focusLock: false,\n      isOpen: props.isOpen,\n      renderAll: props.renderAll,\n      content: ChildMenu,\n      ignoreBoundary: true,\n      mountNode: ctx.mountRef.current ? ctx.mountRef.current : undefined,\n      onMouseEnterDelay: 30,\n      onMouseLeaveDelay: 30,\n      onEsc: props.resetParentMenu,\n      placement: \"rightTop\",\n      overrides: {\n        Body: {\n          props: {\n            // Adds mouseleave to popover body so that child menu closes when user mouses out.\n            onMouseLeave: props.resetParentMenu,\n            // Trap tabbing when focused on a child menu. Popover mounts the element at the end of\n            // the html body by default. If a user was to tab to the next element it would navigate\n            // to elements not within the immediate area surrounding the menu.\n            onKeyDown: function onKeyDown(e) {\n              if (e.keyCode === 9) {\n                e.preventDefault();\n              }\n            }\n          }\n        }\n      }\n    }, props.children);\n  });\n}","map":{"version":3,"sources":["/home/zhiguangda/ITS/deckgl/node_modules/baseui/esm/menu/maybe-child-menu.js"],"names":["React","NestedMenuContext","Popover","MaybeChildMenu","props","getChildMenu","children","ChildMenu","item","createElement","Consumer","ctx","focusLock","isOpen","renderAll","content","ignoreBoundary","mountNode","mountRef","current","undefined","onMouseEnterDelay","onMouseLeaveDelay","onEsc","resetParentMenu","placement","overrides","Body","onMouseLeave","onKeyDown","e","keyCode","preventDefault"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,iBAAT,QAAkC,mBAAlC;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,eAAe,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC5C,MAAI,CAACA,KAAK,CAACC,YAAX,EAAyB;AACvB,WAAOD,KAAK,CAACE,QAAb;AACD;;AAED,MAAIC,SAAS,GAAGH,KAAK,CAACC,YAAN,CAAmBD,KAAK,CAACI,IAAzB,CAAhB;;AAEA,MAAI,CAACD,SAAL,EAAgB;AACd,WAAOH,KAAK,CAACE,QAAb;AACD;;AAED,SAAON,KAAK,CAACS,aAAN,CAAoBR,iBAAiB,CAACS,QAAtC,EAAgD,IAAhD,EAAsD,UAAUC,GAAV,EAAe;AAC1E,WAAOX,KAAK,CAACS,aAAN,CAAoBP,OAApB,EAA6B;AAClCU,MAAAA,SAAS,EAAE,KADuB;AAElCC,MAAAA,MAAM,EAAET,KAAK,CAACS,MAFoB;AAGlCC,MAAAA,SAAS,EAAEV,KAAK,CAACU,SAHiB;AAIlCC,MAAAA,OAAO,EAAER,SAJyB;AAKlCS,MAAAA,cAAc,EAAE,IALkB;AAMlCC,MAAAA,SAAS,EAAEN,GAAG,CAACO,QAAJ,CAAaC,OAAb,GAAuBR,GAAG,CAACO,QAAJ,CAAaC,OAApC,GAA8CC,SANvB;AAOlCC,MAAAA,iBAAiB,EAAE,EAPe;AAQlCC,MAAAA,iBAAiB,EAAE,EARe;AASlCC,MAAAA,KAAK,EAAEnB,KAAK,CAACoB,eATqB;AAUlCC,MAAAA,SAAS,EAAE,UAVuB;AAWlCC,MAAAA,SAAS,EAAE;AACTC,QAAAA,IAAI,EAAE;AACJvB,UAAAA,KAAK,EAAE;AACL;AACAwB,YAAAA,YAAY,EAAExB,KAAK,CAACoB,eAFf;AAGL;AACA;AACA;AACAK,YAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBC,CAAnB,EAAsB;AAC/B,kBAAIA,CAAC,CAACC,OAAF,KAAc,CAAlB,EAAqB;AACnBD,gBAAAA,CAAC,CAACE,cAAF;AACD;AACF;AAVI;AADH;AADG;AAXuB,KAA7B,EA2BJ5B,KAAK,CAACE,QA3BF,CAAP;AA4BD,GA7BM,CAAP;AA8BD","sourcesContent":["/*\nCopyright (c) 2018-2020 Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport * as React from 'react';\nimport { NestedMenuContext } from './nested-menus.js';\nimport { Popover } from '../popover/index.js';\nexport default function MaybeChildMenu(props) {\n  if (!props.getChildMenu) {\n    return props.children;\n  }\n\n  var ChildMenu = props.getChildMenu(props.item);\n\n  if (!ChildMenu) {\n    return props.children;\n  }\n\n  return React.createElement(NestedMenuContext.Consumer, null, function (ctx) {\n    return React.createElement(Popover, {\n      focusLock: false,\n      isOpen: props.isOpen,\n      renderAll: props.renderAll,\n      content: ChildMenu,\n      ignoreBoundary: true,\n      mountNode: ctx.mountRef.current ? ctx.mountRef.current : undefined,\n      onMouseEnterDelay: 30,\n      onMouseLeaveDelay: 30,\n      onEsc: props.resetParentMenu,\n      placement: \"rightTop\",\n      overrides: {\n        Body: {\n          props: {\n            // Adds mouseleave to popover body so that child menu closes when user mouses out.\n            onMouseLeave: props.resetParentMenu,\n            // Trap tabbing when focused on a child menu. Popover mounts the element at the end of\n            // the html body by default. If a user was to tab to the next element it would navigate\n            // to elements not within the immediate area surrounding the menu.\n            onKeyDown: function onKeyDown(e) {\n              if (e.keyCode === 9) {\n                e.preventDefault();\n              }\n            }\n          }\n        }\n      }\n    }, props.children);\n  });\n}"]},"metadata":{},"sourceType":"module"}